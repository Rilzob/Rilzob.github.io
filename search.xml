<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Pythonä¸­çš„åˆ—è¡¨ç”Ÿæˆå¼]]></title>
    <url>%2F2018%2F11%2F05%2FPython%E4%B8%AD%E7%9A%84%E5%88%97%E8%A1%A8%E7%94%9F%E6%88%90%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[Pythonä¸­çš„åˆ—è¡¨ç”Ÿæˆå¼é¡¾åæ€ä¹‰ï¼Œåˆ—è¡¨ç”Ÿæˆå¼å°±æ˜¯ç”¨æ¥ç”Ÿæˆåˆ—è¡¨çš„ç‰¹å®šè¯­æ³•å½¢å¼çš„è¡¨è¾¾å¼ã€‚åˆ—è¡¨ç”Ÿæˆå¼å³List Comprehensionsï¼Œæ˜¯Pythonå†…ç½®çš„éžå¸¸ç®€å•å´å¼ºå¤§çš„å¯ä»¥ç”¨æ¥åˆ›å»ºlistçš„ç”Ÿæˆå¼ã€‚ è¯­æ³•æ ¼å¼åŸºç¡€è¯­æ³•æ ¼å¼1[exp for iter_var in iterable] å·¥ä½œè¿‡ç¨‹ è¿­ä»£iterableä¸­çš„æ¯ä¸ªå…ƒç´ ï¼› æ¯æ¬¡è¿­ä»£éƒ½å…ˆæŠŠç»“æžœèµ‹å€¼ç»™iter_varï¼Œç„¶åŽé€šè¿‡expå¾—åˆ°ä¸€ä¸ªæ–°çš„è®¡ç®—å€¼ï¼› æœ€åŽæ‰€æœ‰é€šè¿‡expå¾—åˆ°çš„è®¡ç®—å€¼ä»¥ä¸€ä¸ªæ–°çš„åˆ—è¡¨çš„å½¢å¼è¿”å›žï¼› ç›¸å½“äºŽï¼š 123L = []for iter_var in iterable: L.append(exp) å¸¦è¿‡æ»¤åŠŸèƒ½çš„è¯­æ³•æ ¼å¼1[exp for iter_var in iterable if_exp] å·¥ä½œè¿‡ç¨‹ è¿­ä»£iterableä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ¯æ¬¡è¿­ä»£éƒ½å…ˆåˆ¤æ–­if_expè¡¨è¾¾å¼æ˜¯å¦æˆç«‹ï¼Œå³åˆ¤æ–­å°†iter_varä»£å…¥if_expåŽè¡¨è¾¾å¼çš„ç»“æžœï¼Œå¦‚æžœä¸ºçœŸåˆ™è¿›è¡Œä¸‹ä¸€æ­¥ï¼Œå¦‚æžœä¸ºå‡åˆ™è¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ï¼› æŠŠè¿­ä»£ç»“æžœèµ‹å€¼ç»™iter_varï¼Œç„¶åŽé€šè¿‡expå¾—åˆ°ä¸€ä¸ªæ–°çš„è®¡ç®—å€¼ï¼› æœ€åŽæŠŠæ‰€æœ‰é€šè¿‡expå¾—åˆ°çš„è®¡ç®—å€¼ä»¥ä¸€ä¸ªæ–°åˆ—è¡¨çš„å½¢å¼è¿”å›žï¼› ç›¸å½“äºŽï¼š 1234L = []for iter_var in iterable: if_exp: L.append(exp) å¾ªçŽ¯åµŒå¥—çš„è¯­æ³•æ ¼å¼1[exp for iter_var_A in iterable_A for iter_var_B in iterable_B] å·¥ä½œè¿‡ç¨‹ è¿­ä»£iterable_Aä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œä½†æ˜¯æ¯è¿­ä»£iterable_Aä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå°±æŠŠiterable_Bä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½è¿­ä»£ä¸€éï¼› å°†æ¯æ¬¡è¿­ä»£çš„å˜é‡iterable_var_Aå’Œiterable_var_Bä¼ å…¥è¡¨è¾¾å¼exp(å½“ç„¶å¯ä»¥åªä¼ å…¥ä¸¤è€…ä¹‹ä¸€)ï¼Œè®¡ç®—å‡ºç»“æžœï¼› æœ€åŽæŠŠæ‰€æœ‰é€šè¿‡expå¾—åˆ°çš„ç»“æžœä»¥ä¸€ä¸ªæ–°çš„åˆ—è¡¨çš„å½¢å¼è¿”å›žï¼› åº”ç”¨åœºæ™¯å…¶å®žåˆ—è¡¨ç”Ÿæˆå¼æ˜¯Pythonä¸­çš„ä¸€ç§â€œè¯­æ³•ç³–â€ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ—è¡¨ç”Ÿæˆå¼æ˜¯Pythonæä¾›çš„ä¸€ç§ç”Ÿæˆåˆ—è¡¨çš„ç®€æ´å½¢å¼ï¼Œåº”ç”¨åˆ—è¡¨ç”Ÿæˆå¼å¯ä»¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªæ–°çš„listã€‚å®ƒæœ€ä¸»è¦çš„åº”ç”¨åœºæ™¯æ˜¯ï¼šæ ¹æ®å·²å­˜åœ¨çš„å¯è¿­ä»£å¯¹è±¡æŽ¨å¯¼å‡ºä¸€ä¸ªæ–°çš„listã€‚ ä½¿ç”¨å®žä¾‹æˆ‘ä»¬å¯ä»¥å¯¹å‡ ä¸ªç”Ÿæˆåˆ—è¡¨çš„è¦æ±‚åˆ†åˆ«é€šè¿‡â€œä¸ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼â€å’Œâ€œä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼â€æ¥å®žçŽ°ï¼Œç„¶åŽåšä¸ªå¯¹æ¯”æ€»ç»“ã€‚ å®žä¾‹1ï¼šç”Ÿæˆä¸€ä¸ªä»Ž3åˆ°10çš„æ•°å­—åˆ—è¡¨12345# ä¸ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list1 = list(range(3, 11))# ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list2 = [x for x in range(3, 11)] å®žä¾‹2ï¼šç”Ÿæˆä¸€ä¸ª2n+1çš„æ•°å­—åˆ—è¡¨ï¼Œnä¸ºä»Ž3åˆ°10çš„æ•°å­—1234567# ä¸ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list3 = []for n in range(3, 11): list3.append(2*n + 1) # ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list4 = [2*n + 1 for n in range(3, 11)] å®žä¾‹3ï¼šè¿‡æ»¤å‡ºæŒ‡å®šçš„æ•°å­—åˆ—è¡¨ä¸­çš„å€¼å¤§äºŽ20çš„å…ƒç´ 123456789L = [3, 7, 11, 14, 19, 33, 26, 57, 99]# ä¸ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list5 = []for x in L: if x &lt; 20: list5.append(x) # ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list6 = [x for x in L if x &lt; 20] å®žä¾‹4ï¼šè®¡ç®—ä¸¤ä¸ªé›†åˆçš„å…¨æŽ’åˆ—ï¼Œå¹¶å°†ç»“æžœä¿å­˜è‡³ä¸€ä¸ªæ–°çš„åˆ—è¡¨ä¸­1234567891011L1 = ['é¦™è•‰', 'è‹¹æžœ', 'æ©™å­']L2 = ['å¯ä¹', 'ç‰›å¥¶']# ä¸ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list7 = []for x in L1: for y in L2: list7.append((x,y)) # ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list8 = [(x,y) for x in L1 for y in L2] å®žä¾‹5ï¼šå°†ä¸€ä¸ªå­—å…¸è½¬æ¢æˆç”±ä¸€ç»„å…ƒç»„ç»„æˆçš„åˆ—è¡¨ï¼Œå…ƒç»„çš„æ ¼å¼ä¸º(key, value)12345678910D = &#123;'Tom': 15, 'Jerry': 18, 'Peter': 13&#125;# ä¸ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list9 = []for k, v in D.items(): list9.append((k, v)) # ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼list10 = []list10 = [(k, v) for k, v in D.items()] å¯è§ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ç¡®å®žè¦æ–¹ä¾¿ã€ç®€æ´å¾ˆå¤šï¼Œä½¿ç”¨ä¸€è¡Œä»£ç å°±æžå®šäº†ã€‚ åˆ—è¡¨ç”Ÿæˆå¼ä¸Žmapã€filterç­‰é«˜é˜¶å‡½æ•°å¯¹æ¯”åˆ—è¡¨ç”Ÿæˆå¼çš„åŠŸèƒ½ä¸Žä¹‹å‰æ–‡ç« æåˆ°çš„map()å’Œfilter()é«˜é˜¶å‡½æ•°åŠŸèƒ½å¾ˆåƒï¼Œæ¯”å¦‚ä¸‹é¢ä¸¤ä¸ªä¾‹å­ï¼š å®žä¾‹1ï¼šæŠŠä¸€ä¸ªåˆ—è¡¨ä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ï¼Œéžå­—ç¬¦ä¸²å…ƒç´ ä¿ç•™åŽŸæ ·123456L = ['TOM', 'Peter', 10, 'Jerry']# ç”¨åˆ—è¡¨ç”Ÿæˆå¼å®žçŽ°list1 = [x.lower() if isinstance(x, str) else x for x in L]# ç”¨map()å‡½æ•°å®žçŽ°list2 = list(map(lambda x : x.lower() if isinstance(x, str) else x, L)) å®žä¾‹2ï¼šæŠŠä¸€ä¸ªåˆ—è¡¨ä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ï¼Œéžå­—ç¬¦ä¸²å…ƒç´ ç§»é™¤1234567L = ['TOM', 'Peter', 10, 'Jerry']# ç”¨åˆ—è¡¨ç”Ÿæˆå¼å®žçŽ°list3 = [x.lower() for x in L if isinstance(x, str)] # æ³¨æ„ï¼šè¿™é‡Œfor x in Lç›¸å¯¹if isinstanceçš„å…ˆåŽä½ç½®ï¼Œä¸Žä¸Šä¸€ä¸ªç¤ºä¾‹ç›¸æ¯”è¾ƒ# ç”¨map()å’Œfilter()å‡½æ•°å®žçŽ°list4 = list(map(lambda x: x.lower(), filter(lambda x: isinstance(x, str), L))) å¯¹äºŽå¤§éƒ¨åˆ†éœ€æ±‚æ¥è®²ï¼Œä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼å’Œä½¿ç”¨é«˜é˜¶å‡½æ•°éƒ½èƒ½å®žçŽ°ã€‚ä½†æ˜¯mapå’Œfilterç­‰ä¸€äº›é«˜é˜¶å‡½æ•°åœ¨Python3.xä¸­çš„è¿”å›žå€¼ç±»åž‹å˜æˆäº†Iterator(è¿­ä»£å™¨)å¯¹è±¡ï¼Œè¿™å¯¹äºŽé‚£äº›å…ƒç´ æ•°é‡å¾ˆå¤§æˆ–æ— é™çš„å¯è¿­ä»£å¯¹è±¡æ¥è¯´æ˜¾ç„¶æ˜¯æ›´åˆé€‚çš„ï¼Œå› ä¸ºå¯ä»¥é¿å…ä¸å¿…è¦çš„å†…å­˜ç©ºé—´æµªè´¹ã€‚ å¼•ç”¨æ–‡ç« ï¼š Pythonä¹‹åˆ—è¡¨ç”Ÿæˆå¼ã€ç”Ÿæˆå™¨ã€å¯è¿­ä»£å¯¹è±¡ä¸Žè¿­ä»£å™¨ - äº‘æ¸¸é“å£« - åšå®¢å›­ åˆ—è¡¨ç”Ÿæˆå¼ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­çš„è£…é¥°å™¨]]></title>
    <url>%2F2018%2F11%2F04%2FPython%E4%B8%AD%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8%2F</url>
    <content type="text"><![CDATA[Pythonä¸­çš„è£…é¥°å™¨è£…é¥°å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªPythonå‡½æ•°ï¼Œå®ƒå¯ä»¥è®©å…¶ä»–å‡½æ•°åœ¨ä¸éœ€è¦åšä»»ä½•ä»£ç å˜åŠ¨çš„å‰æä¸‹å¢žåŠ é¢å¤–åŠŸèƒ½ï¼Œè£…é¥°å™¨çš„è¿”å›žå€¼ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚ å®ƒç»å¸¸ç”¨äºŽæœ‰åˆ‡é¢éœ€æ±‚çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼šæ’å…¥æ—¥å¿—ã€æ€§èƒ½æ£€æµ‹ã€äº‹åŠ¡å¤„ç†ã€ç¼“å­˜ã€æƒé™æ ¡éªŒç­‰åœºæ™¯ã€‚è£…é¥°å™¨æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„ç»ä½³è®¾è®¡ï¼Œæœ‰äº†è£…é¥°å™¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠ½ç¦»å‡ºå¤§é‡ä¸Žå‡½æ•°åŠŸèƒ½æ— å…³çš„é›·åŒä»£ç å¹¶ç»§ç»­é‡ç”¨ã€‚æ¦‚æ‹¬åœ°è®²ï¼Œè£…é¥°å™¨çš„ä½œç”¨å°±æ˜¯ä¸ºå·²ç»å­˜åœ¨å¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚ å…ˆçœ‹ä¸€ä¸ªç®€å•ä¾‹å­ï¼š 12def foo(): print('i am foo') çŽ°åœ¨æœ‰ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œå¸Œæœ›å¯ä»¥è®°å½•ä¸‹å‡½æ•°çš„æ‰§è¡Œæ—¥å¿—ï¼ŒäºŽæ˜¯åœ¨ä»£ç ä¸­æ·»åŠ æ—¥å¿—ä»£ç ï¼š 1234import loggingdef foo(): print('i am foo') logging.info("foo is running") å¦‚æžœæœ‰äº›å‡½æ•°ä¹Ÿæœ‰ç±»ä¼¼çš„éœ€æ±‚ï¼Œæ€Žä¹ˆåšï¼Ÿéƒ½å†™ä¸€ä¸ªloggingåœ¨å‡½æ•°å†…ï¼Ÿè¿™æ ·å°±é€ æˆäº†å¤§é‡é›·åŒçš„ä»£ç ï¼Œä¸ºäº†å‡å°‘é‡å¤å†™ä»£ç ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼Œé‡æ–°å®šä¹‰ä¸€ä¸ªå‡½æ•°ä¸“é—¨å¤„ç†æ—¥å¿—ï¼Œæ—¥å¿—å¤„ç†å®Œä¹‹åŽå†æ‰§è¡ŒçœŸæ­£çš„ä¸šåŠ¡ä»£ç ï¼š 123456789101112def use_logging(func): logging.warning("%s is running" % func.__name__) func() def bar(): print('i am bar')use_logging(bar)# output:# WARNING:root:bar is running# i am bar é€»è¾‘ä¸Šä¸éš¾ç†è§£ï¼Œä½†è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½è¦å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™use_loggingå‡½æ•°ã€‚è€Œä¸”è¿™ç§æ–¹å¼å·²ç»ç ´åäº†åŽŸæœ‰çš„ä»£ç é€»è¾‘ç»“æž„ï¼Œä¹‹å‰æ‰§è¡Œä¸šåŠ¡é€»è¾‘æ—¶ï¼Œæ‰§è¡Œè¿è¡Œbar()ï¼Œä½†æ˜¯çŽ°åœ¨ä¸å¾—ä¸æ”¹æˆuse_logging(bar)ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼Œç­”æ¡ˆå°±æ˜¯è£…é¥°å™¨ã€‚ ç®€å•è£…é¥°å™¨123456789101112131415def use_logging(func): def wrapper(*args, **kwargs): logging.warning("%s is running" % func.__name__) return func(*args, **kwargs) return wrapperdef bar(): print('i am bar') bar = use_logging(bar)bar()# output:# WARNING:root:bar is running# i am bar å‡½æ•°use_loggingå°±æ˜¯è£…é¥°å™¨ï¼Œå®ƒæŠŠæ‰§è¡ŒçœŸæ­£ä¸šåŠ¡æ–¹æ³•çš„funcåŒ…è£¹åœ¨å‡½æ•°é‡Œé¢ï¼Œçœ‹èµ·æ¥åƒbarè¢«loggingåŒ…èµ·æ¥ï¼Œè¢«è£…é¥°äº†ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡½æ•°è¿›å…¥å’Œé€€å‡ºæ—¶ï¼Œè¢«ç§°ä¸ºä¸€ä¸ªæ¨ªåˆ‡é¢(Aspect)ï¼Œè¿™ç§ç¼–ç¨‹æ–¹æ³•ç§°ä¸ºé¢å‘åˆ‡é¢çš„ç¼–ç¨‹(Aspect-Oriented Programming)ã€‚ @ç¬¦å·æ˜¯è£…é¥°å™¨çš„è¯­æ³•ç³–ï¼Œåœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ä½¿ç”¨ï¼Œé¿å…å†ä¸€æ¬¡èµ‹å€¼æ“ä½œã€‚ 12345678910111213141516171819def use_logging(func): def wrapper(*args, **kwargs): logging.warning("%s is running" % func.__name__) return func(*args) return wrapper@use_loggingdef foo(): print('i am foo') @use_loggingdef bar(): print('i am bar') bar()# output:# WARNING:root:bar is running# i am bar å¦‚ä¸Šæ‰€ç¤ºï¼Œä½¿ç”¨@ç¬¦å·æˆ‘ä»¬å°±å¯ä»¥çœåŽ»bar = use_logging(bar)è¿™ä¸€å¥äº†ï¼Œç›´æŽ¥è°ƒç”¨bar()å³å¯å¾—åˆ°æƒ³è¦çš„ç»“æžœã€‚å¦‚æžœæˆ‘ä»¬æœ‰å…¶ä»–çš„ç±»ä¼¼å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­è°ƒç”¨è£…é¥°å™¨æ¥ä¿®é¥°å‡½æ•°ï¼Œè€Œä¸ç”¨é‡æ–°ä¿®æ”¹å‡½æ•°æˆ–è€…å¢žåŠ æ–°çš„å°è£…ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±æé«˜äº†ç¨‹åºçš„å¯é‡å¤åˆ©ç”¨æ€§ï¼Œå¹¶å¢žåŠ äº†ç¨‹åºçš„å¯è¯»æ€§ã€‚ è£…é¥°å™¨åœ¨Pythonä¸­ä½¿ç”¨å¦‚æ­¤æ–¹ä¾¿éƒ½è¦å½’åŠŸäºŽPythonçš„å‡½æ•°èƒ½åƒæ™®é€šçš„å¯¹è±¡ä¸€æ ·èƒ½ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå¯ä»¥è¢«èµ‹å€¼ç»™å…¶ä»–çš„å˜é‡ï¼Œå¯ä»¥ä½œä¸ºè¿”å›žå€¼ï¼Œå¯ä»¥è¢«å®šä¹‰åœ¨å¦ä¸€ä¸ªå‡½æ•°å†…ã€‚ å¸¦å‚æ•°çš„è£…é¥°å™¨è£…é¥°å™¨è¿˜æœ‰æ›´å¤§çš„çµæ´»æ€§ï¼Œä¾‹å¦‚å¸¦å‚æ•°çš„è£…é¥°å™¨ï¼šåœ¨ä¸Šé¢çš„è£…é¥°å™¨è°ƒç”¨ä¸­ï¼Œæ¯”å¦‚@use_loggingï¼Œè¯¥è£…é¥°å™¨å”¯ä¸€çš„å‚æ•°å°±æ˜¯æ‰§è¡Œä¸šåŠ¡çš„å‡½æ•°ã€‚è£…é¥°å™¨çš„è¯­æ³•äº‘æºªæˆ‘ä»¬åœ¨è°ƒç”¨æ—¶ï¼Œæä¾›å…¶ä»–å‚æ•°æ¯”å¦‚@decorator(a)ã€‚è¿™æ ·ï¼Œå°±ä¸ºè£…é¥°å™¨çš„ç¼–å†™å’Œä½¿ç”¨æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚ 123456789101112131415161718def use_logging(level): def decorator(func): def wrapper(*args, **kwargs): if level == "warn": logging.warning("%s is running" % func.__name__) return func(*args) return wrapper return decorator@use_logging(level="warn")def foo(name='foo'): print("i am %s" % name) foo()# output:# WARNING:root:bar is running# i am bar ä¸Šé¢çš„use_loggingæ˜¯å…è®¸å¸¦å‚æ•°çš„è£…é¥°å™¨ã€‚å®ƒå®žé™…ä¸Šæ˜¯å¯¹åŽŸæœ‰è£…é¥°å™¨çš„ä¸€ä¸ªå‡½æ•°å°è£…ï¼Œå¹¶è¿”å›žä¸€ä¸ªè£…é¥°å™¨ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒç†è§£ä¸ºä¸€ä¸ªå«æœ‰å‚æ•°çš„é—­åŒ…ã€‚å½“æˆ‘ä»¬ä½¿ç”¨@use_logging(level=&quot;warn&quot;)è°ƒç”¨çš„æ—¶å€™ï¼ŒPythonèƒ½å¤Ÿå‘çŽ°è¿™ä¸€å±‚çš„å°è£…ï¼Œå¹¶æŠŠå‚æ•°ä¼ é€’åˆ°è£…é¥°å™¨çš„çŽ¯å¢ƒä¸­ã€‚ ç±»è£…é¥°å™¨å†æ¥çœ‹çœ‹ç±»è£…é¥°å™¨ï¼Œç›¸æ¯”å‡½æ•°è£…é¥°å™¨ï¼Œç±»è£…é¥°å™¨å…·æœ‰çµæ´»åº¦å¤§ï¼Œé«˜å†…èšï¼Œå°è£…æ€§ç­‰ä¼˜ç‚¹ã€‚ä½¿ç”¨ç±»è£…é¥°å™¨è¿˜å¯ä»¥ä¾èµ–ç±»å†…éƒ¨çš„__call__æ–¹æ³•ï¼Œå½“ä½¿ç”¨@å½¢å¼å°†è£…é¥°å™¨é™„åŠ åˆ°å‡½æ•°ä¸Šæ—¶ï¼Œå°±ä¼šè°ƒç”¨æ­¤æ–¹æ³•ã€‚ 12345678910111213141516171819class Foo(object): def __init__(self, func): self._func = func def __call__(self): print('class decorator running') self._func() print('class decorator ending') @Foodef bar(): print('bar') bar()# output:# class decorator running# bar# class decorator ending functools.wrapsä½¿ç”¨è£…é¥°å™¨æžå¤§åœ°å¤ç”¨äº†ä»£ç ï¼Œä½†æ˜¯å®ƒæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯åŽŸå‡½æ•°çš„å…ƒä¿¡æ¯ä¸è§äº†ï¼Œæ¯”å¦‚å‡½æ•°çš„docstringã€__name__ã€å‚æ•°åˆ—è¡¨ï¼Œå…ˆçœ‹ä¾‹å­ï¼š è£…é¥°å™¨ï¼š 12345def logged(func): def with_logging(*args, **kwargs): print(func.__name__ + "was called") return func(*args, **kwargs) return with_logging å‡½æ•°ï¼š 1234@loggeddef f(x): '''do some math''' return x + x * x è¯¥å‡½æ•°å®Œå…¨ç­‰ä»·äºŽï¼š 12345def f(x): '''do some math''' return x + x * xf = logged(f) ä¸éš¾å‘çŽ°ï¼Œå‡½æ•°fè¢«with_loggingæ›¿ä»£äº†ï¼Œå½“ç„¶å®ƒçš„docstringã€__name__å°±å˜æˆäº†with_loggingå‡½æ•°çš„ä¿¡æ¯äº†ã€‚ 123456print(f.__name__)print(f.__doc__)# output:# with_logging# None è¿™ä¸ªé—®é¢˜å°±æ¯”è¾ƒä¸¥é‡äº†ï¼Œå¥½åœ¨æˆ‘ä»¬æœ‰function.wrapsï¼Œwrapsæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œå®ƒèƒ½æŠŠåŽŸå‡½æ•°çš„å…ƒä¿¡æ¯æ‹·è´åˆ°è£…é¥°å™¨å‡½æ•°ä¸­ï¼Œè¿™ä½¿å¾—è£…é¥°å™¨å‡½æ•°ä¹Ÿæœ‰å’ŒåŽŸå‡½æ•°ä¸€æ ·çš„å…ƒä¿¡æ¯äº†ã€‚ 12345678910111213141516171819from functools import wrapsdef logged(func): @wraps(func) def with_logging(*args, **kwargs): print(func.__name__ + "was called") return func(*args, **kwargs) return with_logging@loggeddef f(x): '''do some math''' return x + x * xprint(f.__name__)print(f.__doc__)# output:# f# do some math å†…ç½®è£…é¥°å™¨@staticmethodã€@classmethodã€@property è£…é¥°å™¨çš„é¡ºåºï¼š 1234@a@b@cdef f(): ç­‰æ•ˆäºŽ 1f = a(b(c(f))) å¼•ç”¨èµ„æ–™ï¼š å¦‚ä½•ç†è§£Pythonè£…é¥°å™¨ï¼Ÿ - çŸ¥ä¹Ž]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­çš„Lambdaå‡½æ•°åŠå…¶ç”¨æ³•]]></title>
    <url>%2F2018%2F11%2F01%2FPython%E4%B8%AD%E7%9A%84Lambda%E5%87%BD%E6%95%B0%E5%8F%8A%E5%85%B6%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Pythonä¸­çš„Lambdaå‡½æ•°åŠå…¶ç”¨æ³•Lambdaå‡½æ•°åˆç§°ä¸ºåŒ¿åå‡½æ•°ï¼ŒåŒ¿åå‡½æ•°å°±æ˜¯æ²¡æœ‰åå­—çš„å‡½æ•°ã€‚æœ‰äº›å‡½æ•°å¦‚æžœåªæ˜¯ä¸´æ—¶ä¸€ç”¨ï¼Œè€Œä¸”å®ƒçš„ä¸šåŠ¡é€»è¾‘ä¹Ÿå¾ˆç®€å•æ—¶ï¼Œå°±å¯ä»¥å°†å…¶å®šä¹‰ä¸ºåŒ¿åå‡½æ•°ã€‚ åŒ¿åå‡½æ•°æœ‰ä¸ªé™åˆ¶ï¼Œå°±æ˜¯åªèƒ½æœ‰ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç”¨å†™returnï¼Œè¿”å›žå€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æžœã€‚ ç”¨åŒ¿åå‡½æ•°æœ‰ä¸ªå¥½å¤„ï¼Œå› ä¸ºå‡½æ•°æ²¡æœ‰åå­—ï¼Œä¸å¿…æ‹…å¿ƒå‡½æ•°åå†²çªã€‚æ­¤å¤–ï¼ŒåŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŠŠåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå†åˆ©ç”¨å˜é‡æ¥è°ƒç”¨è¯¥å‡½æ•°ã€‚ å…ˆæ¥çœ‹ä¸ªç®€å•çš„lambdaå‡½æ•°ï¼š 12&gt;&gt;&gt; lambda x, y : x + y&lt;function &lt;lambda&gt; at 0x102bc1c80&gt; xå’Œyæ˜¯å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°ï¼Œå†’å·åŽé¢çš„è¡¨è¾¾å¼æ˜¯å‡½æ•°çš„è¿”å›žå€¼ï¼Œå¾ˆæ˜Žæ˜¾è¿™ä¸ªåŒ¿åå‡½æ•°å°±æ˜¯åœ¨æ±‚ä¸¤ä¸ªå˜é‡çš„å’Œï¼Œä½†ä½œä¸ºä¸€ä¸ªå‡½æ•°ï¼Œæ²¡æœ‰åå­—å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ è¿™é‡Œæˆ‘ä»¬æš‚ä¸”ç»™è¿™ä¸ªåŒ¿åå‡½æ•°ç»‘å®šä¸€ä¸ªåå­—ï¼Œè¿™æ ·ä½¿å¾—æˆ‘ä»¬è°ƒç”¨åŒ¿åå‡½æ•°æˆä¸ºå¯èƒ½ã€‚ 12345&gt;&gt;&gt; add = lambda x, y : x+y&gt;&gt;&gt; add&lt;function &lt;lambda&gt; at 0x102bc2140&gt;&gt;&gt;&gt; add(1,2)3 å®ƒç­‰åŒäºŽå¸¸è§„å‡½æ•° 1234567&gt;&gt;&gt; def add1(x, y):... return x+y...&gt;&gt;&gt; add1&lt;function add1 at 0x102bc1c80&gt;&gt;&gt;&gt; add1(1,2)3 lambdaå‡½æ•°çš„ä½¿ç”¨åœºæ™¯(å‡½æ•°å¼ç¼–ç¨‹)sortedå‡½æ•°ä¾‹å¦‚ï¼šä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œè¦æ±‚æŒ‰ç…§åˆ—è¡¨ä¸­å…ƒç´ çš„ç»å¯¹å€¼å¤§å°å‡åºæŽ’åˆ—ã€‚ 123&gt;&gt;&gt; list1 = [3,5,-4,-1,0,-2,-6]&gt;&gt;&gt; sorted(list1, key=lambda x: abs(x))[0, -1, -2, 3, -4, 5, -6] æŽ’åºå‡½æ•°sortedæ”¯æŒæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‚æ•°ä½œä¸ºsortedçš„æŽ’åºä¾æ®ï¼Œè¿™é‡ŒæŒ‰ç…§åˆ—è¡¨å…ƒç´ çš„ç»å¯¹å€¼è¿›è¡ŒæŽ’åºã€‚ å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ™®é€šå‡½æ•°æ¥å®žçŽ°ï¼š 12345&gt;&gt;&gt; def foo(x):... return abs(x)...&gt;&gt;&gt; sorted(list1, key=foo)[0, -1, -2, 3, -4, 5, -6] åªä¸è¿‡æ˜¯ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œä»£ç çœ‹èµ·æ¥ä¸å¤ŸPythonicè€Œå·²ã€‚ lambdaï¼šè¿™æ˜¯Pythonæ”¯æŒçš„ä¸€ç§æœ‰è¶£çš„è¯­æ³•ï¼Œå®ƒå…è®¸ä½ å¿«é€Ÿå®šä¹‰å•è¡Œçš„æœ€å°å‡½æ•°ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•éœ€è¦å‡½æ•°çš„åœ°æ–¹: 12345&gt;&gt;&gt; add = lambda x,y : x+y&gt;&gt;&gt; add(5,6)11&gt;&gt;&gt; (lambda x,y:x+y)(5,6)11 map,reduce,filterå‡½æ•°123456789101112# æ±‚1~20çš„å¹³æ–¹&gt;&gt;&gt; list(map(lambda x:x*x,range(1,21))) [1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256, 289, 324, 361, 400]# æ±‚1~20ä¹‹é—´çš„å¶æ•°&gt;&gt;&gt; list(filter(lambda x:x%2 == 0,range(1,21))) [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]# æ±‚1~100ä¹‹å’Œ,å†åŠ ä¸Š10000&gt;&gt;&gt; from functools import reduce&gt;&gt;&gt; reduce(lambda x,y:x+y,range(1,101),10000)15050 é—­åŒ…é—­åŒ…ï¼šä¸€ä¸ªå®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°ï¼Œé—­åŒ…ä½¿å¾—å˜é‡å³ä½¿è„±ç¦»äº†è¯¥å‡½æ•°çš„ä½œç”¨åŸŸä¹Ÿä¾ç„¶èƒ½è¢«è®¿é—®åˆ°ã€‚ çœ‹ä¸€ä¸ªç”¨lambdaå‡½æ•°ä½œä¸ºé—­åŒ…çš„ä¾‹å­ï¼š 123456&gt;&gt;&gt; def add(n):... return lambda x:x+n # å°†åŒ¿åå‡½æ•°ä½œä¸ºè¿”å›žå€¼è¿”å›ž...&gt;&gt;&gt; add2 = add(5)&gt;&gt;&gt; add2(15)20 è¿™é‡Œçš„lambdaå‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸèŒƒå›´ä¸­ï¼Œadd2(15)å¯ä»¥æ­£å¸¸æ‰§è¡Œä¸”è¿”å›žå€¼ä¸º20ã€‚ä¹‹æ‰€ä»¥è¿”å›ž20æ˜¯å› ä¸ºåœ¨addå±€éƒ¨ä½œç”¨åŸŸä¸­ï¼Œå˜é‡nçš„å€¼åœ¨é—­åŒ…çš„ä½œç”¨ä¸‹ä¹Ÿå¯ä»¥è¢«è®¿é—®åˆ°ã€‚ å‚è€ƒèµ„æ–™ åŒ¿åå‡½æ•° - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ æ·±å…¥ç†è§£Lambdaå‡½æ•°åŠå…¶ç”¨æ³• - ç¢§æ°´å¹½å¹½æ³‰ - åšå®¢å›­]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­çš„é«˜é˜¶å‡½æ•°]]></title>
    <url>%2F2018%2F10%2F29%2FPython%E4%B8%AD%E7%9A%84%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%2F</url>
    <content type="text"><![CDATA[Pythonä¸­çš„é«˜é˜¶å‡½æ•°åœ¨ç†Ÿæ‚‰äº†PythonåŸºç¡€çŸ¥è¯†åŽï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åšä¸€äº›è„šæœ¬å¼€å‘ï¼Œæˆ–è€…ç®€å•çš„ç¨‹åºã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬å¼€å‘è¾ƒä¸ºå¤æ‚çš„ç¨‹åºæ—¶ï¼Œä»…ä½¿ç”¨åŸºç¡€çŸ¥è¯†å†…å®¹å°±ä¼šæ˜¾å¾—æ¯”è¾ƒåƒåŠ›ã€‚è¿™æ—¶ï¼Œäº†è§£Pythonä¸­çš„ä¸€äº›é«˜çº§ç‰¹æ€§ä¼šä½¿æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹å˜å¾—ç®€å•å’Œå¿«ä¹ã€‚ åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°å½“åšå˜é‡ä¸€æ ·è‡ªç”±ä½¿ç”¨ã€‚ä¸€ä¸ªå‡½æ•°æŽ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°(Higher-order-Functions)ã€‚ çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 12def func(g, arr): return [g(x) for x in arr] ä¸Šé¢çš„ä»£ç ä¸­funcæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒæŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œfuncçš„åŠŸèƒ½æ˜¯å°†å‡½æ•°gé€ä¸ªä½œç”¨äºŽæ•°ç»„arrä¸Šï¼Œå¹¶è¿”å›žä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç”¨ï¼š 123456789def double(x): return 2 * x def square(x): return x * xlist = [1, 2, 3, 4]arr1 = func(double, list) # arr1 = [2, 4, 6, 8]arr2 = func(square, list) # arr2 = [1, 4, 9, 16] è¯´åˆ°é«˜é˜¶å‡½æ•°ï¼Œå°±ä¸å¾—ä¸æåˆ°é—­åŒ…ï¼Œè¿™é‡Œä»‹ç»ä¸€ä¸‹Pythonä¸­é—­åŒ…çš„å®šä¹‰ï¼š å¦‚æžœåœ¨ä¸€ä¸ªå†…éƒ¨å‡½æ•°é‡Œï¼Œå¯¹å¤–éƒ¨ä½œç”¨åŸŸ(ä½†ä¸æ˜¯å…¨å±€ä½œç”¨åŸŸ)çš„å˜é‡è¿›è¡Œå¼•ç”¨ï¼Œé‚£ä¹ˆå†…éƒ¨å‡½æ•°å°±è¢«è®¤ä¸ºæ˜¯é—­åŒ…(closure)ã€‚ å°±æ‹¿æ­¤ä¾‹æ¥è¯´ï¼Œå†…éƒ¨å‡½æ•°doubleä¸­åŒ…å«äº†å¯¹å‡½æ•°funcä¸­å±€éƒ¨å˜é‡listçš„å¼•ç”¨ï¼Œè¿™å°±æ˜¯é—­åŒ…ã€‚ map reduce filter sortedæ˜¯Pythonä¸­è¾ƒä¸ºå¸¸ç”¨çš„å†…ç½®é«˜é˜¶å‡½æ•°ï¼Œå®ƒä»¬ä¸ºå‡½æ•°å¼ç¼–ç¨‹æä¾›äº†ä¸å°‘ä¾¿åˆ©ã€‚ è¯´æ˜Žï¼šæœ¬æ–‡ä»‹ç»çš„å†…ç½®é«˜é˜¶å‡½æ•°çš„å®šä¹‰å¯èƒ½ä¼šå› ä¸ºPythonç‰ˆæœ¬çš„ä¸åŒè€Œæœ‰æ‰€ä¸åŒï¼Œæ–‡ç« ä»¥Python3.xç‰ˆæœ¬ä¸­çš„å®šä¹‰ä¸ºæ ‡å‡†ã€‚ mapmapå‡½æ•°çš„ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š 1map(function, iterable, ...) æ³¨æ„ï¼šè¿™é‡Œå‡½æ•°ä¸€å®šè¦ä½œä¸ºmapçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸æ˜¯ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šäº§ç”ŸæŠ¥é”™ã€‚ è§£é‡Šï¼šfunctionå‡½æ•°ä¼šä½œç”¨äºŽå¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œç”Ÿæˆç»“æžœï¼Œå¹¶è¿”å›žä¸€ä¸ªè¿­ä»£å™¨ã€‚æ›´åŠ å…·ä½“ä¸€ç‚¹è¯´å°±æ˜¯mapå‡½æ•°æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯Iterableï¼Œmapå°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨åˆ°Iterableçš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æŠŠç»“æžœä½œä¸ºæ–°çš„Iteratorè¿”å›žã€‚ ä¸¾ä¾‹è¯´æ˜Žï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸€ä¸ªå‡½æ•°f(x)=x^2ï¼Œè¦æŠŠè¿™ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªlist[1, 2, 3, 4, 5, 6, 7, 8, 9]ä¸Šï¼Œå°±å¯ä»¥ç”¨map()å®žçŽ°ã€‚ çŽ°åœ¨ï¼Œæˆ‘ä»¬ç”¨Pythonä»£ç å®žçŽ°ï¼š 123456&gt;&gt;&gt; def f(x):... return x * x...&gt;&gt;&gt; r = map(f, [1, 2, 3, 4, 5, 6, 7, 8, 9])&gt;&gt;&gt; list(r)[1, 4, 9, 16, 25, 36, 49, 64, 81] mapä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯fï¼Œå³å‡½æ•°å¯¹è±¡æœ¬èº«ã€‚ç”±äºŽç»“æžœræ˜¯ä¸€ä¸ªIteratorï¼ŒIteratoræ˜¯æƒ°æ€§åºåˆ—ï¼Œå› æ­¤éœ€è¦é€šè¿‡list()å‡½æ•°è®©å®ƒæŠŠæ•´ä¸ªåºåˆ—éƒ½è®¡ç®—å‡ºæ¥å¹¶è¿”å›žä¸€ä¸ªlistã€‚ ä½ å¯èƒ½ä¼šæƒ³ï¼Œä¸éœ€è¦mapå‡½æ•°ï¼Œå†™ä¸€ä¸ªå¾ªçŽ¯ï¼Œä¹Ÿå¯ä»¥è®¡ç®—å‡ºç»“æžœï¼š 1234L = []for n in [1, 2, 3, 4, 5, 6, 7, 8, 9]: L.append(f(n))print(L) çš„ç¡®å¯ä»¥ï¼Œä½†æ˜¯ï¼Œä»Žä¸Šé¢çš„å¾ªçŽ¯ä»£ç ï¼Œèƒ½ä¸€çœ¼çœ‹æ˜Žç™½â€œæŠŠf(x)ä½œç”¨åœ¨listçš„æ¯ä¸€ä¸ªå…ƒç´ å¹¶æŠŠç»“æžœç”Ÿæˆä¸€ä¸ªæ–°çš„listâ€å—ï¼Ÿæ˜Žæ˜¾å¯è¯»æ€§å°±å·®äº†å¾ˆå¤šã€‚ æ‰€ä»¥ï¼Œmapä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œä½“çŽ°äº†Pythonçš„è®¾è®¡åŽŸåˆ™ä¼˜é›…ã€æ˜Žç¡®ã€ç®€å•ï¼Œäº‹å®žä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡åŒ–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸ä½†å¯ä»¥è®¡ç®—ç®€å•çš„f(x)=x2ï¼Œè¿˜å¯ä»¥è®¡ç®—ä»»æ„å¤æ‚çš„å‡½æ•°ï¼Œæ¯”å¦‚ï¼ŒæŠŠlistä¸­çš„æ‰€æœ‰æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ ¼å¼ï¼š 12&gt;&gt;&gt; list(map(str, [1, 2, 3, 4]))['1', '2', '3', '4'] åªéœ€ä¸€è¡Œä»£ç ã€‚ çœ‹ä¸€äº›ç®€å•çš„ä¾‹å­ï¼š 12345678910111213&gt;&gt;&gt; def square(x):... return x * x&gt;&gt;&gt; map(square, [1, 2, 3, 4])&lt;map at 0x106adfe48&gt;&gt;&gt;&gt; list(map(square, [1, 2, 3, 4]))[1, 4, 9, 16]&gt;&gt;&gt; list(map(lambda x: x * x, [1, 2, 3, 4])) # ä½¿ç”¨ lambda[1, 4, 9, 16]&gt;&gt;&gt; list(map(lambda x, y: x + y, [1, 2, 3, 4], [5, 6, 7, 8]))[6, 8, 10, 12] å†æ¥çœ‹ä¸ªå¤æ‚ä¸€ç‚¹ä¾‹å­ï¼š 1234567891011121314151617def double(x): return 2 * xdef triple(x): return 3 *xdef square(x): return x * xfuncs = [double, triple, square] # åˆ—è¡¨å…ƒç´ æ˜¯å‡½æ•°å¯¹è±¡# ç›¸å½“äºŽ [double(4), triple(4), square(4)]value = list(map(lambda f: f(4), funcs))print(value)output:[8, 12, 16] æœ€åŽæˆ‘æƒ³è¦è¯´æ˜Žä¸€ç‚¹ï¼Œè¿­ä»£å™¨æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯æ‰€æœ‰çš„è¿­ä»£å™¨å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºnext()å†…ç½®å‡½æ•°çš„å‚æ•°è°ƒç”¨ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡ï¼Œå°±æŒ‰è§’æ ‡é¡ºåºè¿”å›žä¸€ä¸ªå€¼ï¼Œè¿˜æ˜¯ç”¨ä»£ç è®²å§ï¼š 123456iter = map(lambda x: x * x, [1, 2, 3, 4])print(next(iter)) # æ‰“å°å€¼ä¸ºï¼š1print(next(iter)) # æ‰“å°å€¼ä¸ºï¼š4print(next(iter)) # æ‰“å°å€¼ä¸ºï¼š9print(next(iter)) # æ‰“å°å€¼ä¸ºï¼š16print(next(iter)) # æŠ›å‡ºStopIteration å¼‚å¸¸ reducereduceå‡½æ•°çš„ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š 1reduce(function, iterable[, initializer]) è§£é‡Šï¼šreduceå‡½æ•°å¿…é¡»æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå…ˆå°†iterableçš„å‰ä¸¤ä¸ªitemä¼ ç»™functionï¼Œå³function(item1, item2)ï¼Œå‡½æ•°çš„è¿”å›žå€¼å’Œiterableçš„ä¸‹ä¸€ä¸ªitemå†ä¼ ç»™functionï¼Œå³function(function(item1, item2), item3)ï¼Œå¦‚æ­¤è¿­ä»£ï¼Œç›´åˆ°iterableæ²¡æœ‰å…ƒç´ ï¼Œå¦‚æžœæœ‰initializerï¼Œåˆ™ä½œä¸ºåˆå§‹å€¼è°ƒç”¨ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼š 12reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)# åˆ—è¡¨ä¸­æ˜¯ä»¥ä»Žå·¦åˆ°å³ä½œä¸ºä¼˜å…ˆé¡ºåº çœ‹ä¸€äº›ä¾‹å­ï¼Œå°±èƒ½å¾ˆå¿«ç†è§£äº†ã€‚ 12345678910111213&gt;&gt;&gt; from functools import reduce&gt;&gt;&gt; reduce(lambda x, y: x * y, [1, 2, 3, 4]) # ç›¸å½“äºŽ ((1 * 2) * 3) * 424&gt;&gt;&gt; reduce(lambda x, y: x - y, [8, 5, 1], 20) # ((20 - 8) - 5) - 16&gt;&gt;&gt; f = lambda a, b: a if (a &gt; b) else b # ä¸¤ä¸¤æ¯”è¾ƒï¼Œå–æœ€å¤§å€¼&gt;&gt;&gt; reduce(f, [5, 8, 1, 10])10&gt;&gt;&gt; def fn(x, y): # æŠŠåºåˆ—[1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579... return x * 10 + y...&gt;&gt;&gt; reduce(fn, [1, 3, 5, 7, 9])13579 filterfilterå‡½æ•°ç”¨äºŽè¿‡æ»¤å…ƒç´ ï¼Œå®ƒçš„ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š 1filter(function, iterable) è§£é‡Šï¼šå’Œmapç±»ä¼¼ï¼Œfilterä¹ŸæŽ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—ã€‚ä½†å’Œmapä¸åŒçš„æ˜¯ï¼ŒfilteræŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºŽæ¯ä¸ªå…ƒç´ ï¼Œç„¶åŽæ ¹æ®è¿”å›žå€¼æ˜¯Trueè¿˜æ˜¯Falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚å°†functionä¾æ¬¡ä½œç”¨äºŽiterableçš„æ¯ä¸ªitemä¸Šï¼Œå³function(item)ï¼Œç”¨functionè¿”å›žå€¼ä¸ºTrueçš„itemæž„æˆiteratorä½œä¸ºfilterçš„æœ€ç»ˆè¿”å›žå€¼ã€‚ çœ‹ä¸€äº›ä¾‹å­ã€‚ 12345678910&gt;&gt;&gt; even_num = list(filter(lambda x: x % 2 == 0, [1, 2, 3, 4, 5, 6]))&gt;&gt;&gt; even_num[2, 4, 6]&gt;&gt;&gt; odd_num = list(filter(lambda x: x % 2, [1, 2, 3, 4, 5, 6]))&gt;&gt;&gt; odd_num[1, 3, 5]&gt;&gt;&gt; list(filter(lambda x: x &lt; 'g', 'hijack'))'ac'&gt;&gt;&gt; filter(lambda x: x &lt; 'g', 'hijack')&lt;filter object at 0x1034b4080&gt; # python3 å¯è§ç”¨filterè¿™ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå…³é”®åœ¨äºŽæ­£ç¡®å®žçŽ°ä¸€ä¸ªâ€œç­›é€‰â€å‡½æ•°ã€‚ æ³¨æ„åˆ°filterå‡½æ•°è¿”å›žçš„åŒæ ·æ˜¯ä¸€ä¸ªIteratorï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæƒ°æ€§åºåˆ—ï¼Œæ‰€ä»¥è¦å¼ºè¿«filterå®Œæˆè®¡ç®—ç»“æžœï¼Œéœ€è¦ç”¨list()å‡½æ•°èŽ·å¾—æ‰€æœ‰ç»“æžœã€‚ sortedsortedå‡½æ•°ç”¨äºŽå¯¹listè¿›è¡ŒæŽ’åºï¼Œå®ƒçš„ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š 1sorted(iterable, *, key=None, reverse=False) è§£é‡Šï¼šsortedæœ‰ä¸¤ä¸ªå¯é€‰å‚æ•°ï¼Œå¿…é¡»æŒ‡å®šä¸ºå…³é”®å­—å‚æ•°ã€‚å°†keyæŒ‡å®šçš„å‡½æ•°ä½œç”¨äºŽiterableçš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶æ ¹æ®keyå‡½æ•°è¿”å›žçš„ç»“æžœè¿›è¡ŒæŽ’åºï¼Œæœ€ç»ˆè¿”å›žä¸€ä¸ªæ–°çš„æŽ’åºåˆ—è¡¨ã€‚keyé»˜è®¤å€¼ä¸ºNoneï¼Œå³ç›´æŽ¥æ¯”è¾ƒå…ƒç´ å¤§å°ã€‚ reverseæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æžœè®¾ç½®ä¸ºTrueï¼Œåˆ™åˆ—è¡¨å…ƒç´ å°†æŒ‰ç…§æ¯”è¾ƒç»“æžœç›¸åçš„æ–¹å¼è¿›è¡ŒæŽ’åºã€‚ çœ‹ä¸€äº›ä¾‹å­ï¼š 12345678910&gt;&gt;&gt; sorted([36, 5, -12, 9, -21])[-21, -12, 5, 9, 36]&gt;&gt;&gt; sorted([36, 5, -12, 9, -21], key=abs)[5, 9, -12, -21, 36]&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'])['Credit', 'Zoo', 'about', 'bob']&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower)['about', 'bob', 'Credit', 'Zoo']&gt;&gt;&gt; sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower, reverse=True)['Zoo', 'Credit', 'bob', 'about'] ä»Žä¸Šè¿°ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé«˜é˜¶å‡½æ•°çš„æŠ½è±¡èƒ½åŠ›æ˜¯éžå¸¸å¼ºå¤§çš„ï¼Œè€Œä¸”æ ¸å¿ƒä»£ç å¯ä»¥ä¿æŒå¾—éžå¸¸ç®€æ´ã€‚ å°ç»“ å¯æŽ¥å—å…¶ä»–å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ç§°ä¸ºé«˜é˜¶å‡½æ•°ï¼› map reduce filter sortedä¸ºå‡½æ•°å¼ç¼–ç¨‹æä¾›äº†ä¸å°‘ä¾¿åˆ©ï¼Œå¯ä½¿ä»£ç å˜å¾—æ›´ç®€æ´ï¼› é€šè¿‡map()æ¥å¯¹Iterableä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œç›¸åŒçš„å‡½æ•°å¤„ç†æœ€ç»ˆè¿”å›žä¸€ä¸ªIteratorã€‚ reduce()ç±»ä¼¼æ ˆçš„æ€æƒ³ï¼Œå…ˆè®©æ ˆé¡¶çš„ä¸¤ä¸ªå…ƒç´ å‡ºæ ˆä½œä¸ºå‡½æ•°çš„ä¸¤ä¸ªå‚æ•°ï¼Œå†å°†å‡½æ•°çš„è¿”å›žå€¼å…¥æ ˆï¼Œç„¶åŽå†è®©æ ˆé¡¶ä¸¤ä¸ªå…ƒç´ å‡ºæ ˆï¼Œä¸æ–­å¾ªçŽ¯ä¸‹åŽ»ï¼Œç›´åˆ°æ ˆé‡Œæ²¡æœ‰å…ƒç´ ä¸ºæ­¢ã€‚ filter()çš„ä½œç”¨æ˜¯ä»Žä¸€ä¸ªåºåˆ—ä¸­ç­›é€‰å‡ºç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚ç”±äºŽfilter()ä½¿ç”¨äº†æƒ°æ€§è®¡ç®—ï¼Œæ‰€ä»¥åªæœ‰åœ¨å–filter()ç»“æžœçš„æ—¶å€™ï¼Œæ‰ä¼šçœŸæ­£ç­›é€‰å¹¶æ¯æ¬¡è¿”å›žä¸‹ä¸€ä¸ªç­›å‡ºçš„å…ƒç´ ã€‚ sorted()ä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ã€‚ç”¨sorted()æŽ’åºçš„å…³é”®åœ¨äºŽå®žçŽ°ä¸€ä¸ªæ˜ å°„å‡½æ•°ã€‚ å‚è€ƒèµ„æ–™ é«˜é˜¶å‡½æ•° - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ map/reduce/filter - Python ä¹‹æ—… - æžå®¢å­¦é™¢Wiki é«˜é˜¶å‡½æ•° - Python ä¹‹æ—… - æžå®¢å­¦é™¢Wiki Pythonç¬”è®°(äºŒ)ï¼šé«˜çº§ç‰¹æ€§ä¹‹é«˜é˜¶å‡½æ•° - ç®€ä¹¦]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­@classmethodå’Œ@staticmethodçš„åŒºåˆ«]]></title>
    <url>%2F2018%2F10%2F27%2FPython%E4%B8%AD%40classmethod%E5%92%8C%40staticmethod%E7%9A%84%E5%8C%BA%E5%88%AB%E7%9A%84%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Pythonä¸­@classmethodå’Œ@staticmethodçš„åŒºåˆ«æŽ¥ä¸Šä¸€ç¯‡ä»‹ç»Pythonä¸­@staticmethodå’Œ@classmethodçš„ç”¨æ³•çš„æ–‡ç« ã€‚è™½ç„¶@classmethodå’Œ@staticmethodéžå¸¸ç›¸ä¼¼ï¼Œä½†ä¸¤ä¸ªä¿®é¥°ç¬¦çš„ä½¿ç”¨æƒ…å†µä»ç•¥æœ‰ä¸åŒã€‚ ä»Žå®ƒä»¬çš„ä½¿ç”¨ä¸Šæ¥çœ‹ï¼š @classmethodå¿…é¡»å¼•ç”¨ä¸€ä¸ªç±»å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦æ˜¯è¡¨ç¤ºè‡ªèº«ç±»çš„clså‚æ•°ã€‚åŒæ—¶@classmethodå› æŒæœ‰clså‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥è°ƒç”¨ç±»çš„å±žæ€§ï¼Œç±»çš„æ–¹æ³•ï¼Œå®žä¾‹åŒ–å¯¹è±¡ç­‰ï¼Œé¿å…ç¡¬ç¼–ç ã€‚ @staticmethodåˆ™å¯ä»¥å®Œå…¨æ²¡æœ‰å‚æ•°ï¼Œä½†åœ¨@staticmethodä¸­è¦è°ƒç”¨åˆ°è¿™ä¸ªç±»çš„ä¸€äº›å±žæ€§æ–¹æ³•ï¼Œåªèƒ½ç›´æŽ¥ç±»å.å±žæ€§åæˆ–ç±»å.æ–¹æ³•å()ã€‚ ç¤ºä¾‹1234567891011121314151617181920class Date(object): def __init__(self, day=0, month=0, year=0): self.day = day self.month = month self.year = year @classmethod def from_string(cls, date_as_string): day, month, year = map(int, date_as_string.split("-")) date1 = cls(day, month, year) return date1 @staticmethod def is_date_valid(date_as_string): day, month, year = map(int, date_as_string.split("-")) return day &lt;= 31 and month &lt;= 12 and year &lt;= 3999 date2 = Date.from_string("27-10-2018")is_date = Date.is_date_valid("27-10-2018") è§£é‡Šè®©æˆ‘ä»¬å‡è®¾è¿™æ ·ä¸€ä¸ªç±»çš„ä¾‹å­ï¼Œç”¨æ¥å¤„ç†æ—¥æœŸä¿¡æ¯(è¿™å°†æ˜¯æˆ‘ä»¬çš„æ ·æ¿)ï¼š 12345class Date(object): def __init__(self, day=0, month=0, year=0): self.day = day self.month = month self.year = year æ˜¾ç„¶ï¼Œè¿™ä¸ªç±»å¯ä»¥ç”¨æ¥å­˜å‚¨å…³äºŽæŸäº›æ—¥æœŸçš„ä¿¡æ¯(æ²¡æœ‰æ—¶åŒºä¿¡æ¯ï¼›å‡è®¾æ‰€æœ‰æ—¥æœŸéƒ½ä»¥UTCè¡¨ç¤º)ã€‚ è¿™ä¸ªç±»ä¸­æœ‰__init__ï¼Œå®ƒæ˜¯Pythonç±»å®žä¾‹çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå®ƒæŽ¥æ”¶å‚æ•°ä½œä¸ºç±»å®žä¾‹æ–¹æ³•ï¼Œå…·æœ‰ç¬¬ä¸€ä¸ªéžå¯é€‰å‚æ•°self(ä½œä¸ºå¯¹æ–°åˆ›å»ºå®žä¾‹çš„å¼•ç”¨)ã€‚ Class Methodæˆ‘ä»¬æœ‰ä¸€äº›ä»»åŠ¡ï¼Œé€šè¿‡ä½¿ç”¨@classmethodå¯ä»¥å¾ˆå¥½åœ°å®Œæˆå®ƒä»¬ã€‚ å‡è®¾æˆ‘ä»¬æƒ³è¦åˆ›å»ºè®¸å¤šDateç±»å®žä¾‹ï¼Œå…¶æ—¥æœŸä¿¡æ¯æ¥è‡ªå¤–éƒ¨è¾“å…¥(ç¼–ç æ ¼å¼ä¸ºâ€™dd-mm-yearâ€™çš„å­—ç¬¦ä¸²)ï¼Œå¹¶å‡è®¾æˆ‘ä»¬å¿…é¡»åœ¨é¡¹ç›®æºä»£ç çš„ä¸åŒä½ç½®æ‰§è¡Œæ­¤æ“ä½œã€‚ æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå¿…é¡»åšåˆ°ï¼š è§£æžè¾“å…¥çš„å­—ç¬¦ä¸²ä»¥æŽ¥æ”¶æ—¥ã€æœˆã€å¹´ä½œä¸ºä¸‰ä¸ªæ•´æ•°å˜é‡æˆ–ç”±è¿™äº›å˜é‡ç»„æˆçš„ä¸‰å…ƒç»„ã€‚ é€šè¿‡å°†ä¸Šé¢æ±‚åˆ°çš„å€¼ä¼ é€’ç»™åˆå§‹åŒ–è°ƒç”¨æ¥åˆ›å»ºDateç±»å®žä¾‹ã€‚ ä»£ç çœ‹èµ·æ¥ä¼šæ˜¯è¿™æ ·ï¼š 12day, month, year = map(int, string_date.split('-'))date1 = Date(day, month, year) å¦‚æžœä½¿ç”¨@classmethodä¿®é¥°ç¬¦å†™åœ¨ç±»ä¸­ï¼Œå°†ä¼šæ˜¯ï¼š 1234567 @classmethod def from_string(cls, date_as_string): day, month, year = map(int, date_as_string.split('-')) date1 = cls(day, month, year) return date1date2 = Date.from_string('27-10-2018') è®©æˆ‘ä»¬æ›´ä»”ç»†åœ°çœ‹çœ‹ä¸Šé¢çš„ä»£ç å®žçŽ°ï¼Œå¹¶å›žæƒ³ä¸€ä¸‹æˆ‘ä»¬åšäº†ä»€ä¹ˆï¼Ÿ æˆ‘ä»¬åœ¨ä¸€ä¸ªåœ°æ–¹å®žçŽ°äº†æ—¥æœŸå­—ç¬¦ä¸²è§£æžå‡½æ•°ï¼ŒçŽ°åœ¨å®ƒå¯ä»¥é‡ç”¨ã€‚ å°†æ—¥æœŸå­—ç¬¦ä¸²è§£æžå‡½æ•°å°è£…åœ¨ç±»ä¸­å¹¶ä¸”å·¥ä½œæ­£å¸¸(å½“ç„¶ä½ å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹å®žçŽ°æ—¥æœŸå­—ç¬¦ä¸²è§£æžä½œä¸ºå•ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ›´é€‚åˆOOPèŒƒä¾‹)ã€‚ clsæ˜¯ä¸€ä¸ªä¿å­˜ç±»æœ¬èº«çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç±»çš„å®žä¾‹ã€‚è¿™å¾ˆé…·ðŸ˜Žï¼Œå› ä¸ºå¦‚æžœæˆ‘ä»¬ç»§æ‰¿Dateç±»ï¼Œæ‰€æœ‰å­ç±»ä¹Ÿä¼šå®šä¹‰from_string()ã€‚ Static Method@staticmethodç¡®å®žä¸Ž@classmethodå¾ˆç›¸ä¼¼ï¼Œä½†@staticmethodä¸éœ€è¦ä»»ä½•å¼ºåˆ¶æ€§å‚æ•°(å¦‚ç±»æ–¹æ³•æˆ–å®žä¾‹æ–¹æ³•)ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ä¸‹ä¸€ä¸ªä»»åŠ¡(ä¸‹ä¸€ä¸ªç”¨ä¾‹): å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ—¥æœŸå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æƒ³è¦ä»¥æŸç§æ–¹å¼è¿›è¡ŒéªŒè¯å®ƒæ˜¯å¦ç¬¦åˆè¦æ±‚çš„æ ¼å¼ã€‚æ­¤ä»»åŠ¡ä¹Ÿéœ€è¦å°è£…åœ¨Dateç±»ä¸­ï¼Œä½†ä¸éœ€è¦å®žä¾‹åŒ–å®ƒã€‚ è¿™é‡Œä½¿ç”¨@staticmethodå°±ä¼šå¾ˆæœ‰æ•ˆã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»£ç ï¼š 1234567@staticmethoddef is_date_valid(date_as_string): day, month, year = map(int, date_as_string.split('-')) return day &lt;= 31 and month &lt;= 12 and year &lt;= 3999# usage:is_date = Date.is_date_valid('27-10-2018') è¿è¡Œä¸Šè¿°ä»£ç å¾—åˆ°is_dateæ˜¯ä¸ªboolenåž‹å˜é‡ï¼Œè€Œéžis_date_validå‡½æ•°è¿”å›žçš„dayï¼Œmonthï¼Œyearä¸‰ä¸ªæ•´åž‹æ•°æ®ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»Ž@staticmethodçš„ä½¿ç”¨ä¸­çœ‹åˆ°ï¼Œæˆ‘ä»¬æ— æ³•è®¿é—®ç±»çš„å†…å®¹â€”â€”å®ƒåŸºæœ¬ä¸Šåªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¯­æ³•ä¸Šç§°ä¸ºæ–¹æ³•ï¼Œæ— æ³•è®¿é—®å¯¹è±¡åŠå…¶å†…éƒ¨(å­—æ®µå’Œå…¶ä»–ç±»æ–¹æ³•)ã€‚è€Œä½¿ç”¨@classmethodå´å¯ä»¥åšåˆ°ã€‚ è¡¥å……ä¸Šé¢çš„æ–‡ç« å·²ç»å¾ˆå…¨é¢åœ°æ€»ç»“äº†@classmethodå’Œ@staticmethodçš„åŒºåˆ«ã€‚åœ¨è¿™é‡Œæˆ‘æƒ³å¼ºè°ƒå½“ä½ åˆ›å»ºæž„é€ å‡½æ•°æ—¶ï¼Œä½ åº”è¯¥é€‰æ‹©@classmethodè€Œä¸æ˜¯@staticmethodçš„å¦ä¸€ä¸ªåŽŸå› ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½¿ç”¨@classmethod from_string()ä½œä¸ºFactoryï¼ŒæŽ¥æ”¶ä¸ç¬¦åˆ__init__è¦æ±‚çš„å‚æ•°åˆ›å»ºDateç±»å®žä¾‹ã€‚ä½¿ç”¨@staticmethodå¯ä»¥å®ŒæˆåŒæ ·çš„æ“ä½œï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š 12345678910111213141516171819202122class Date: def __init__(self, month, day, year): self.month = month self.day = day self.year = year def display(self): return "&#123;0&#125;-&#123;1&#125;-&#123;2&#125;".format(self.month, self.day, self.year) @staticmethod def millenium(month, day): return Date(month, day, 2000)new_year = Date(1, 1, 2013) # Creates a new Date objectmillenium_new_year = Date.millenium(1, 1) # also creates a Date object. # Proof:new_year.display() # "1-1-2013"millenium_new_year.display() # "1-1-2000"isinstance(new_year, Date) # Trueisinstance(millenium_new_year, Date) # True è¿è¡Œç»“æžœæ˜¾ç¤ºnew_yearå’Œmillenium_new_yearéƒ½æ˜¯Dateç±»å®žä¾‹ã€‚ ä½†æ˜¯ï¼Œå¦‚æžœä»”ç»†è§‚å¯Ÿå°±ä¼šå‘çŽ°ï¼Œmillenium_new_yearæ˜¯ä»¥ç¡¬ç¼–ç çš„æ–¹å¼åˆ›å»ºçš„Dateç±»å®žä¾‹ã€‚è¿™æ„å‘³ç€å³ä½¿ä¸€ä¸ªç±»ç»§æ‰¿Dateç±»ï¼Œè¯¥å­ç±»ä»å°†åˆ›å»ºæ™®é€šçš„Dateå¯¹è±¡å³çˆ¶ç±»å¯¹è±¡ï¼Œè€Œä¸å…·æœ‰è¯¥å­ç±»æœ¬èº«çš„ä»»ä½•å±žæ€§ã€‚è¯·å‚é˜…ä»¥ä¸‹ç¤ºä¾‹ä»£ç ï¼š 12345678910111213class DateTime(Date): def display(self): return "&#123;0&#125;-&#123;1&#125;-&#123;2&#125; - 00:00:00PM".format(self.month, self.day, self.year)datetime1 = DateTime(10, 10, 1990)datetime2 = DateTime.millenium(10, 10)isinstance(datetime1, DateTime) # Trueisinstance(datetime2, DateTime) # Falsedatetime1.display() # returns "10-10-1990 - 00:00:00PM"datetime2.display() # returns "10-10-2000" because it's not a DateTime object but a Date object. Check the implementation of the millenium method on the Date class DateTimeç±»ç»§æ‰¿Dateç±»ï¼Œå› æ­¤å…·æœ‰Dateç±»çš„millenium()æ–¹æ³•ã€‚datetime2é€šè¿‡è°ƒç”¨DateTimeç»§æ‰¿æ¥çš„millenium()æ–¹æ³•æ¥åˆ›å»ºDateTimeç±»å®žä¾‹ã€‚ç„¶è€Œä»£ç å´æ˜¾ç¤ºdatetime2å¹¶ä¸æ˜¯DateTimeç±»å®žä¾‹(isinstance(datetime2, DateTime) # False)ã€‚æ€Žä¹ˆå›žäº‹ï¼Ÿè¿™æ˜¯å› ä¸ºä½¿ç”¨äº†@staticmethodä¿®é¥°ç¬¦ã€‚ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä½ ä¸å¸Œæœ›å‡ºçŽ°çš„ã€‚å¦‚æžœä½ æƒ³è¦çš„æ˜¯ä¸€ä¸ªâ€å®Œæ•´â€œçš„ç±»å®žä¾‹ï¼Œå¹¶ä¸”æ˜¯é€šè¿‡è°ƒç”¨å®ƒçš„çˆ¶ç±»æ–¹æ³•æ‰€åˆ›å»ºçš„è¯ï¼Œé‚£ä¹ˆ@classmethodå°±æ˜¯ä½ æ‰€éœ€è¦çš„ã€‚ å°†Date.millenium()é‡å†™ä¸º(è¿™æ˜¯ä¸Šè¿°ä»£ç ä¸­å”¯ä¸€æ”¹å˜çš„éƒ¨åˆ†)ï¼š 123@classmethoddef millenium(cls, month, day): return cls(month, day, 2000) ç¡®ä¿è¯¥ç±»çš„åˆ›å»ºä¸æ˜¯é€šè¿‡ç¡¬ç¼–ç ã€‚clså¯ä»¥æ˜¯ä»»ä½•å­ç±»ï¼Œç”Ÿæˆçš„å¯¹è±¡å°†æ­£ç¡®åœ°æˆä¸ºclsçš„å®žä¾‹ã€‚æˆ‘ä»¬æ¥è¯•è¯•å§ï¼š 123456789datetime1 = DateTime(10, 10, 1990)datetime2 = DateTime.millenium(10, 10)isinstance(datetime1, DateTime) # Trueisinstance(datetime2, DateTime) # Truedatetime1.display() # "10-10-1990 - 00:00:00PM"datetime2.display() # "10-10-2000 - 00:00:00PM" çœ‹å§ï¼Œç”¨@classmethodæ›¿ä»£@staticmethodä½ ä¸å¸Œæœ›å‡ºçŽ°çš„æƒ…å†µå°±ä¼šæ¶ˆå¤±ã€‚ä½¿ç”¨äº†@staticmethodä¿®é¥°ç¬¦å®šä¹‰æž„é€ å‡½æ•°å°±æ˜¯é—®é¢˜å‡ºçŽ°çš„å…³é”®ã€‚ æ–‡ç« çš„å†…å®¹æœ‰ç‚¹å¤šï¼Œå¯èƒ½éœ€è¦èŠ±ä¸€äº›æ—¶é—´è¿›è¡Œç†è§£ï¼Œæœ€åŽæä¾›ä¸€ä¸ªå°ç¤ºä¾‹å¸®åŠ©å¤§å®¶åŠ æ·±è®°å¿†ä¸€ä¸‹@classmethodå’Œ@staticmethodçš„ä¸»è¦ä¸åŒã€‚ 1234567891011121314151617181920212223242526class A(object): bar = 1 def foo(self): print 'foo' @staticmethod def static_foo(): print 'static_foo' print A.bar @classmethod def class_foo(cls): print 'class_foo' print cls.bar cls().foo() A.static_foo()A.class_foo()output:static_foo1class_foo1foo å¼•ç”¨æ–‡ç« ï¼š é£˜é€¸çš„python - @staticmethodå’Œ@classmethodçš„ä½œç”¨ä¸ŽåŒºåˆ« - mattkang - CSDNåšå®¢ python - Meaning of @classmethod and @staticmethod for beginner? - Stack Overflow]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­@staticmethodå’Œ@classmethodçš„ç”¨æ³•]]></title>
    <url>%2F2018%2F10%2F27%2FPython%E4%B8%AD%40staticmethod%E5%92%8C%40classmethod%E7%9A%84%E7%94%A8%E6%B3%95%E7%9A%84%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Pythonä¸­@staticmethodå’Œ@classmethodçš„ç”¨æ³•ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨æŸä¸ªç±»çš„æ–¹æ³•ï¼Œéœ€è¦é¢„å…ˆç”Ÿæˆä¸€ä¸ªå®žä¾‹ï¼Œå†é€šè¿‡å®žä¾‹è°ƒç”¨æ–¹æ³•ã€‚Javaä¸­æœ‰é™æ€æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ç±»ç›´æŽ¥è¿›è¡Œè°ƒç”¨ã€‚Pythonä¸­æä¾›äº†ä¸¤ä¸ªä¿®é¥°ç¬¦@staticmethodå’Œ@classmethodä»¥è¾¾åˆ°ç±»ä¼¼æ•ˆæžœï¼Œä½¿ç”¨å®ƒä»¬å°±å¯ä»¥ä¸éœ€è¦å®žä¾‹åŒ–ï¼Œç›´æŽ¥ç±»å.æ–¹æ³•å()æ¥è°ƒç”¨ã€‚è¿™æœ‰åˆ©äºŽç»„ç»‡ä»£ç ï¼ŒæŠŠæŸäº›åº”è¯¥å±žäºŽæŸä¸ªç±»çš„å‡½æ•°ç»™æ”¾åˆ°é‚£ä¸ªç±»ä¸­ï¼ŒåŒæ—¶æœ‰åˆ©äºŽå‘½åç©ºé—´çš„æ•´æ´ã€‚ @staticmethod@staticmethodå£°æ˜Žæ–¹æ³•ä¸ºé™æ€æ–¹æ³•ï¼Œç›´æŽ¥é€šè¿‡ç±»å.æ–¹æ³•å()è°ƒç”¨ã€‚ç»è¿‡@staticmethodä¿®é¥°çš„æ–¹æ³•ï¼Œä¸éœ€è¦selfå‚æ•°ï¼Œå…¶ä½¿ç”¨æ–¹æ³•å’Œç›´æŽ¥è°ƒç”¨å‡½æ•°ä¸€æ ·ã€‚ 1234567891011121314151617181920#ç›´æŽ¥å®šä¹‰ä¸€ä¸ªtest()å‡½æ•°def test(): print "i am a normal method!" #å®šä¹‰ä¸€ä¸ªç±»ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªç±»æ–¹æ³•ï¼Œé‡‡ç”¨@staticmethodä¿®é¥° class T: @staticmethod def static_test(): # æ²¡æœ‰selfå‚æ•° print "i am a static method!" if __name__ == "__main__": test() T.static_test() T().static_test()output:i am a normal method!i am a static method!i am a static method! @classmethod@classmethodå£°æ˜Žæ–¹æ³•ä¸ºç±»æ–¹æ³•ï¼Œç›´æŽ¥é€šè¿‡ç±»å.æ–¹æ³•å()è°ƒç”¨ã€‚ç»è¿‡@classmethodä¿®é¥°çš„æ–¹æ³•ï¼Œä¸éœ€è¦selfå‚æ•°ï¼Œä½†æ˜¯éœ€è¦ä¸€ä¸ªæ ‡è¯†ç±»æœ¬èº«çš„clså‚æ•°ã€‚ 12345678910111213class T: @classmethod def class_test(cls): # å¿…é¡»æœ‰clså‚æ•° print "i am a class method" if __name__ == "__main__": T.class_test() T().class_test()output:i am a class methodi am a class method @classmethodå¦ä¸€ä¸ªå®žç”¨çš„ç”¨æ³•ï¼šåœ¨ä¸æ”¹å˜å·²ç»å†™å¥½çš„ç±»é‡Œé¢çš„æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œå¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚ 12345678910111213141516# è¾“å‡ºå¹´æœˆæ—¥ï¼Œæ­£å¸¸çš„æƒ…å†µä¸‹class demo1: def __init__(self, year=0, month=0, day=0): self.year = year self.month = month self.day = day def out_date(self): return "year: %d, month: %d, day: %d" % (self.year, self.month, self.day) year = 2018month = 10day = 27demo1 = demo1(year, month, day)print(demo1.out_date()) # year: 2018, month: 10, day: 27 1234567891011121314151617181920212223242526# å¦‚æžœç”¨æˆ·è¾“å…¥çš„æ˜¯2018-10-27æ ¼å¼ï¼Œéœ€è¦åœ¨è¾“å‡ºå‰å¤„ç†ä¸€ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨classmethodè¾¾åˆ°æƒ³è¦çš„æ•ˆæžœclass demo2: def __init__(self, year=0, month=0, day=0): self.year = year self.month = month self.day = day def out_date(self): return "year: %d, month: %d, day: %d" % (self.year, self.month, self.day) @classmethod def pre_out(cls, date_string): year, month, day = map(int, date_string.split("-")) return cls(year, month, day) date = "2018-10-27"year = 2017month = 7day = 7try: demo2 = demo2.pre_out(date)except: demo2 = demo2(year, month, day) print(demo2.out_date()) # year: 2018, month: 10, day: 6 å°ç»“ @staticmethodä¸éœ€è¦è¡¨ç¤ºè‡ªèº«å¯¹è±¡çš„selfå‚æ•°å’Œè‡ªèº«ç±»çš„clså‚æ•°ï¼Œå°±è·Ÿä½¿ç”¨å‡½æ•°ä¸€æ ·ã€‚ @classmethodä¹Ÿä¸éœ€è¦selfå‚æ•°ï¼Œä½†ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦æ˜¯è¡¨ç¤ºè‡ªèº«ç±»çš„clså‚æ•°ã€‚ åœ¨Pythonä¸­ç±»å’Œå®žä¾‹éƒ½æ˜¯å¯¹è±¡ï¼Œéƒ½å ç”¨äº†å†…å­˜ç©ºé—´ï¼Œåˆç†ä½¿ç”¨@staticmethodå’Œ@classmethodä¿®é¥°ç¬¦ï¼Œå°±å¯ä»¥ä¸ç»è¿‡å®žä¾‹åŒ–ç›´æŽ¥ä½¿ç”¨ç±»çš„æ–¹æ³•äº†ã€‚ å¼•ç”¨æ–‡ç« ï¼š Python @staticmethod@classmethodç”¨æ³• - sinat_34079973çš„åšå®¢ - CSDNåšå®¢ é£˜é€¸çš„python - @staticmethodå’Œ@classmethodçš„ä½œç”¨ä¸ŽåŒºåˆ« - mattkang - CSDNåšå®¢ classmethodçš„ä¸¤ä¸ªå®žç”¨ç”¨æ³• - ç®€ä¹¦]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­super()å‡½æ•°çš„ç”¨æ³•åŠå…¶è¯´æ˜Ž]]></title>
    <url>%2F2018%2F10%2F26%2FPython%E4%B8%ADsuper()%E5%87%BD%E6%95%B0%E7%9A%84%E7%94%A8%E6%B3%95%E7%9A%84%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Pythonä¸­super()å‡½æ•°çš„ç”¨æ³•åŠå…¶è¯´æ˜Žä¸ºäº†è°ƒç”¨çˆ¶ç±»(è¶…ç±»)çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨super()å‡½æ•°ï¼Œæ¯”å¦‚ï¼š 12345678class A: def spam(self): print('A.spam')class B(A): def spam(self): print('B.spam') super().spam() # Call parent spam() super()å‡½æ•°çš„ä¸€ä¸ªå¸¸è§ç”¨æ³•æ˜¯åœ¨__init__()ä¸­ç¡®ä¿çˆ¶ç±»è¢«æ­£ç¡®çš„åˆå§‹åŒ–ï¼š 12345678class A: def __init__(self): self.x = 0class B(A): def __init__(self): super().__init__() self.y = 1 è¯´æ˜Ž__init__()å‡½æ•°ï¼šå®šä¹‰ç±»çš„æ—¶å€™ï¼Œè‹¥æ˜¯æ·»åŠ __init__()å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºç±»çš„å®žä¾‹çš„æ—¶å€™ï¼Œå®žä¾‹ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸€èˆ¬ç”¨æ¥å¯¹å®žä¾‹çš„å±žæ€§è¿›è¡Œåˆå§‹åŒ–ã€‚ super()çš„å¦å¤–ä¸€ä¸ªå¸¸è§ç”¨æ³•å‡ºçŽ°åœ¨è¦†ç›–Pythonç‰¹æ®Šæ–¹æ³•çš„ä»£ç ä¸­ï¼Œæ¯”å¦‚ï¼š 1234567891011121314class Proxy: def __init__(self, obj): self._obj = obj # Delegate attribute lookup to internal obj def __getattr__(self, name): return getattr(self._obj, name) # Delegate attribute assignment def __setattr__(self, name, value): if name.startswith('_'): super().__setattr__(name, value) # Call original __setattr__ else: setattr(self._obj, name, value) å®žé™…ä¸Šï¼Œå¤§å®¶å¯¹äºŽåœ¨Pythonä¸­å¦‚ä½•æ­£ç¡®ä½¿ç”¨super()å‡½æ•°æ™®éçŸ¥ä¹‹ç”šå°‘ã€‚ä½ æœ‰æ—¶å€™ä¼šçœ‹åˆ°åƒä¸‹é¢è¿™æ ·ç›´æŽ¥è°ƒç”¨çˆ¶ç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼š 12345678class Base: def __init__(self): print('Base.__init__')class A(Base): def __init__(self): Base.__init__(self) print('A.__init__') å°½ç®¡å¯¹äºŽå¤§éƒ¨åˆ†ä»£ç è€Œè¨€è¿™ä¹ˆåšæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯åœ¨æ›´å¤æ‚çš„æ¶‰åŠåˆ°å¤šç»§æ‰¿çš„ä»£ç ä¸­å°±æœ‰å¯èƒ½å¯¼è‡´å¾ˆå¥‡æ€ªçš„é—®é¢˜å‘ç”Ÿã€‚æ¯”å¦‚ï¼Œè€ƒè™‘ä¸‹é¢çš„æƒ…å†µï¼š 12345678910111213141516171819class Base: def __init__(self): print('Base.__init__')class A(Base): def __init__(self): Base.__init__(self) print('A.__init__')class B(Base): def __init__(self): Base.__init__(self) print('B.__init__')class C(A,B): def __init__(self): A.__init__(self) B.__init__(self) print('C.__init__') è¿è¡Œè¿™æ®µä»£ç åŽå°±ä¼šå‘çŽ°Base.__init__è¢«è°ƒç”¨ä¸¤æ¬¡ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š 123456&gt;&gt;&gt; c = C()Base.__init__A.__init__Base.__init__B.__init__C.__init__ å¯èƒ½ä¸¤æ¬¡è°ƒç”¨Base.__init__()æ²¡ä»€ä¹ˆåå¤„ï¼Œä½†æœ‰æ—¶å€™å´ä¸æ˜¯ã€‚å¦ä¸€æ–¹é¢ï¼Œå‡è®¾åœ¨ä»£ç ä¸­æ¢æˆä½¿ç”¨super()ï¼Œç»“æžœå°±å¾ˆå®Œç¾Žäº†ï¼š 123456789101112131415161718class Base: def __init__(self): print('Base.__init__')class A(Base): def __init__(self): super().__init__() print('A.__init__')class B(Base): def __init__(self): super().__init__() print('B.__init__')class C(A,B): def __init__(self): super().__init__() # Only one call to super() here print('C.__init__') è¿è¡Œè¿™ä¸ªæ–°ç‰ˆæœ¬åŽï¼Œä½ ä¼šå‘çŽ°Base.__init__()æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼š 12345&gt;&gt;&gt; c = C()Base.__init__B.__init__A.__init__C.__init__ æ‰€ä»¥è¯´ï¼Œsuper()æ˜¯ç”¨æ¥è§£å†³å¤šé‡ç»§æ‰¿é—®é¢˜çš„ï¼Œç›´æŽ¥ç”¨ç±»åè°ƒç”¨çˆ¶ç±»æ–¹æ³•åœ¨ä½¿ç”¨å•ç»§æ‰¿çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œä½†æ˜¯å¦‚æžœä½¿ç”¨å¤šç»§æ‰¿ï¼Œä¼šæ¶‰åŠåˆ°æŸ¥æ‰¾é¡ºåº(MRO)ã€é‡å¤è°ƒç”¨(é’»çŸ³ç»§æ‰¿)ç­‰ç§ç§é—®é¢˜ã€‚ è¯´æ˜Žï¼šMROå°±æ˜¯ç±»çš„æ–¹æ³•è§£æžé¡ºåºè¡¨ï¼Œå…¶å®žä¹Ÿå°±æ˜¯ç»§æ‰¿çˆ¶ç±»æ–¹æ³•æ—¶çš„é¡ºåºè¡¨ï¼Œä¸‹é¢ä¼šæœ‰æ›´è¯¦å°½çš„ä»‹ç»ã€‚ ä¸ºäº†å¼„æ¸…å®ƒçš„åŽŸç†ï¼Œæˆ‘ä»¬éœ€è¦èŠ±ç‚¹æ—¶é—´è§£é‡Šä¸‹Pythonæ˜¯å¦‚ä½•å®žçŽ°ç»§æ‰¿çš„ã€‚å¯¹äºŽä½ å®šä¹‰çš„æ¯ä¸€ä¸ªç±»ï¼ŒPythonä¼šè®¡ç®—å‡ºä¸€ä¸ªæ‰€è°“çš„æ–¹æ³•è§£æžé¡ºåº(MRO)åˆ—è¡¨ã€‚è¿™ä¸ªMROåˆ—è¡¨å°±æ˜¯ä¸€ä¸ªç®€å•çš„æ‰€æœ‰åŸºç±»çš„çº¿æ€§é¡ºåºè¡¨ã€‚ä¾‹å¦‚ï¼š 123&gt;&gt;&gt; C.__mro__(&lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class '__main__.B'&gt;,&lt;class '__main__.Base'&gt;, &lt;class 'object'&gt;) ä¸ºäº†å®žçŽ°ç»§æ‰¿ï¼ŒPythonä¼šåœ¨MROåˆ—è¡¨ä¸Šä»Žå·¦åˆ°å³å¼€å§‹æŸ¥æ‰¾åŸºç±»ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…è¿™ä¸ªå±žæ€§çš„ç±»ä¸ºæ­¢ã€‚ è€Œè¿™ä¸ªMROåˆ—è¡¨çš„æž„é€ æ˜¯é€šè¿‡ä¸€ä¸ªC3çº¿æ€§åŒ–ç®—æ³•æ¥å®žçŽ°çš„ã€‚æˆ‘ä»¬ä¸åŽ»æ·±ç©¶è¿™ä¸ªç®—æ³•çš„æ•°å­¦åŽŸç†ï¼Œå®ƒå®žé™…ä¸Šå°±æ˜¯åˆå¹¶æ‰€æœ‰çˆ¶ç±»çš„MROåˆ—è¡¨å¹¶éµå¾ªå¦‚ä¸‹ä¸‰æ¡å‡†åˆ™ï¼š å­ç±»ä¼šå…ˆäºŽçˆ¶ç±»è¢«æ£€æŸ¥ å¤šä¸ªçˆ¶ç±»ä¼šæ ¹æ®å®ƒä»¬åœ¨åˆ—è¡¨ä¸­çš„é¡ºåºè¢«æ£€æŸ¥ å¦‚æžœå¯¹ä¸‹ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªåˆæ³•çš„é€‰æ‹©ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªçˆ¶ç±» è€å®žè¯´ï¼Œä½ æ‰€è¦çŸ¥é“çš„å°±æ˜¯MROåˆ—è¡¨ä¸­çš„ç±»é¡ºåºä¼šè®©ä½ å®šä¹‰çš„ä»»æ„ç±»å±‚çº§å…³ç³»å˜å¾—æœ‰æ„ä¹‰ã€‚ å½“ä½ ä½¿ç”¨super()å‡½æ•°æ—¶ï¼ŒPythonä¼šåœ¨MROåˆ—è¡¨ä¸Šç»§ç»­æœç´¢ä¸‹ä¸€ä¸ªç±»ã€‚åªè¦æ¯ä¸ªé‡å®šä¹‰çš„æ–¹æ³•ç»Ÿä¸€ä½¿ç”¨super()å¹¶åªè°ƒç”¨å®ƒä¸€æ¬¡ï¼Œé‚£ä¹ˆæŽ§åˆ¶æµæœ€ç»ˆä¼šéåŽ†å®Œæ•´ä¸ªMROåˆ—è¡¨ï¼Œæ¯ä¸ªæ–¹æ³•ä¹Ÿåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ä½ ä¸ä¼šè°ƒç”¨ä¸¤æ¬¡Base.__init__()çš„åŽŸå› ã€‚ super()æœ‰ä¸ªä»¤äººåƒæƒŠçš„åœ°æ–¹æ˜¯å®ƒå¹¶ä¸ä¸€å®šåŽ»æŸ¥æ‰¾æŸä¸ªç±»åœ¨MROä¸­ä¸‹ä¸€ä¸ªç›´æŽ¥çˆ¶ç±»ï¼Œä½ ç”šè‡³å¯ä»¥åœ¨ä¸€ä¸ªæ²¡æœ‰ç›´æŽ¥çˆ¶ç±»çš„ç±»ä¸­ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘å¦‚ä¸‹è¿™ä¸ªç±»ï¼š 1234class A: def spam(self): print('A.spam') super().spam() å¦‚æžœä½ è¯•ç€ç›´æŽ¥ä½¿ç”¨è¿™ä¸ªç±»å°±ä¼šå‡ºé”™ï¼š 1234567&gt;&gt;&gt; a = A()&gt;&gt;&gt; a.spam()A.spamTraceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "&lt;stdin&gt;", line 4, in spamAttributeError: 'super' object has no attribute 'spam' ä½†æ˜¯ï¼Œå¦‚æžœä½ ä½¿ç”¨å¤šç»§æ‰¿çš„è¯çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š 1234567891011&gt;&gt;&gt; class B:... def spam(self):... print('B.spam')...&gt;&gt;&gt; class C(A,B):... pass...&gt;&gt;&gt; c = C()&gt;&gt;&gt; c.spam()A.spamB.spam ä½ å¯ä»¥çœ‹åˆ°åœ¨ç±»Aä¸­ä½¿ç”¨super().spam()å®žé™…ä¸Šè°ƒç”¨çš„æ˜¯ä¸Žç±»Aæ¯«æ— å…³ç³»çš„ç±»Bä¸­çš„spam()æ–¹æ³•ã€‚è¿™ä¸ªç”¨ç±»Cçš„MROåˆ—è¡¨å°±å¯ä»¥å®Œå…¨è§£é‡Šæ¸…æ¥šï¼š 123&gt;&gt;&gt; C.__mro__(&lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class '__main__.B'&gt;,&lt;class 'object'&gt;) åœ¨å®šä¹‰æ··å…¥ç±»çš„æ—¶å€™è¿™æ ·ä½¿ç”¨super()æ˜¯å¾ˆæ™®éçš„ã€‚ ç„¶è€Œï¼Œç”±äºŽsuper()å¯èƒ½ä¼šè°ƒç”¨ä¸æ˜¯ä½ æƒ³è¦çš„æ–¹æ³•ï¼Œä½ åº”è¯¥éµå¾ªä¸€äº›é€šç”¨åŽŸåˆ™ã€‚é¦–å…ˆï¼Œç¡®ä¿åœ¨ç»§æ‰¿ä½“ç³»ä¸­æ‰€æœ‰ç›¸åŒåå­—çš„æ–¹æ³•æ‹¥æœ‰å¯å…¼å®¹çš„å‚æ•°ç­¾å(æ¯”å¦‚ç›¸åŒçš„å‚æ•°ä¸ªæ•°å’Œå‚æ•°åç§°)ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿super()è°ƒç”¨ä¸€ä¸ªéžç›´æŽ¥çˆ¶ç±»æ–¹æ³•æ—¶ä¸ä¼šå‡ºé”™ã€‚å…¶æ¬¡ï¼Œæœ€å¥½ç¡®ä¿æœ€é¡¶å±‚çš„ç±»æä¾›äº†è¿™ä¸ªæ–¹æ³•çš„å®žçŽ°ï¼Œè¿™æ ·çš„è¯åœ¨MROä¸Šé¢çš„æŸ¥æ‰¾é“¾è‚¯å®šå¯ä»¥æ‰¾åˆ°æŸä¸ªç¡®å®šçš„æ–¹æ³•ã€‚ åœ¨Pythonç¤¾åŒºå†…å¯¹äºŽsuper()çš„ä½¿ç”¨æœ‰æ—¶å€™ä¼šå¼•æ¥ä¸€äº›äº‰è®®ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æžœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œä½ åº”è¯¥åœ¨ä½ æœ€æ–°çš„ä»£ç ä¸­ä½¿ç”¨å®ƒã€‚Raymond Hettingerä¸ºæ­¤å†™äº†ä¸€ç¯‡éžå¸¸å¥½çš„æ–‡ç« ï¼Œæœ‰å…´è¶£çš„è¯å¯ä»¥åŽ»æŸ¥æŸ¥çœ‹ï¼Œæ–‡ç« é€šè¿‡å¤§é‡çš„ä¾‹å­å‘æˆ‘ä»¬è§£é‡Šäº†ä¸ºä»€ä¹ˆsuper()æ˜¯æžå¥½çš„ã€‚ æœ€åŽé€šè¿‡ä¸€ä¸ªå¾ˆå¥½çš„å®žä¾‹å¸®åŠ©å¤§å®¶åŠ æ·±ä¸€ä¸‹è®°å¿†ï¼š 12345678910111213141516171819202122class FooParent(object): def __init__(self): self.parent = 'I\'m the parent.' print ('Parent') def bar(self,message): print ("%s from Parent" % message) class FooChild(FooParent): def __init__(self): # super(FooChild,self) é¦–å…ˆæ‰¾åˆ° FooChild çš„çˆ¶ç±»ï¼ˆå°±æ˜¯ç±» FooParentï¼‰ï¼Œç„¶åŽæŠŠç±»Bçš„å¯¹è±¡ FooChild è½¬æ¢ä¸ºç±» FooParent çš„å¯¹è±¡ super(FooChild,self).__init__() print ('Child') def bar(self,message): super(FooChild, self).bar(message) print ('Child bar fuction') print (self.parent) if __name__ == '__main__': fooChild = FooChild() fooChild.bar('HelloWorld') æ‰§è¡Œç»“æžœï¼š 12345ParentChildHelloWorld from ParentChild bar fuctionI&apos;m the parent. å¼•ç”¨æ–‡ç« ï¼š Python super() å‡½æ•° | èœé¸Ÿæ•™ç¨‹ 8.7 è°ƒç”¨çˆ¶ç±»æ–¹æ³• â€” python3-cookbook 3.0.0 æ–‡æ¡£]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Hexoä½¿ç”¨æ”»ç•¥ï¼šæ·»åŠ æœç´¢åŠŸèƒ½]]></title>
    <url>%2F2018%2F10%2F26%2FHexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5%EF%BC%9A%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD%E7%9A%84%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Hexoä½¿ç”¨æ”»ç•¥ï¼šæ·»åŠ æœç´¢åŠŸèƒ½æœ¬æ•™ç¨‹é’ˆå¯¹çš„æ˜¯MacçŽ¯å¢ƒ å‰è¨€å½“åšæ–‡è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œæ ‡ç­¾å’Œåˆ†ç±»å·²ç»ä¸èƒ½æä¾›å¤ªå¤§çš„ä½œç”¨ï¼Œæ— æ³•å‡†ç¡®çš„å®šä½åˆ°è‡ªå·±æƒ³è¦çœ‹çš„åšæ–‡ä¸ŠåŽ»äº†ï¼Œæ‰€ä»¥æ·»åŠ ä¸€ä¸ªç«™å†…æœç´¢åŠŸèƒ½æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ Hexoé€‚é…å¤šæ¬¾æœç´¢æ’ä»¶ï¼Œä¸ªäººæ„Ÿè§‰â€Local Searchâ€å·²æ»¡è¶³æ—¥å¸¸éœ€è¦ï¼Œæ‰€ä»¥ä¸‹é¢ä»‹ç»ä¸ºHexoæ·»åŠ â€Local Searchâ€æœç´¢æ’ä»¶çš„è¿‡ç¨‹ã€‚ å®‰è£…æ’ä»¶åœ¨å‘½ä»¤è¡Œä¸­cdåˆ°è‡ªå·±çš„hexoæ–‡ä»¶å¤¹ä¸‹(ä¾‹ï¼š/Users/rilzob/hexo)ï¼Œæ‰§è¡Œnpm install hexo-generator-searchdb --saveå‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œç­‰å¾…å®‰è£…å®Œæˆã€‚ ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ä¿®æ”¹å½“å‰ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶(ä¾‹ï¼š/Users/rilzob/hexo/_config.yml)ï¼Œæ–°å¢žä»¥ä¸‹å†…å®¹åˆ°è¯¥æ–‡ä»¶å†…çš„ä»»æ„ä½ç½®ã€‚ 123456# Searchsearch: path: search.xml field: post format: html limit: 10000 æ³¨æ„ï¼šæ¯ä¸ªå†’å·åŽé¢éƒ½æœ‰ç©ºæ ¼ ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸»é¢˜ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶(ä¾‹ï¼š/Users/rilzob/hexo/themes/xxx/_config.yml)ï¼Œæ‰¾åˆ°è¯¥æ–‡ä»¶å†…çš„ 1234# Local search# Dependencies: https://github.com/flashlab/hexo-generator-searchlocal_search: enable: false ä»£ç æ®µï¼Œå°†å…¶ä¿®æ”¹ä¸ºï¼š 1234# Local search# Dependencies: https://github.com/flashlab/hexo-generator-searchlocal_search: enable: true å³å°†enable: falseä¿®æ”¹ä¸ºenable: trueã€‚ é‡æ–°éƒ¨ç½²ä¾æ—§åœ¨å‘½ä»¤è¡Œä¸­è¿›è¡Œæ“ä½œï¼Œåœ¨hexoæ–‡ä»¶å¤¹ä¸‹ä¾æ¬¡æ‰§è¡Œhexo g,hexo serverå’Œhexo deployæŒ‡ä»¤å³å¯ã€‚è¿™æ ·æœç´¢åŠŸèƒ½å°±æ·»åŠ æˆåŠŸäº†ã€‚ å¼•ç”¨æ–‡ç« : 1.Hexoåšå®¢æ·»åŠ æœç´¢åŠŸèƒ½ | ITèŒƒå„¿ 2.hexoåšå®¢æ·»åŠ æœç´¢åŠŸèƒ½ - qq_40265501çš„åšå®¢ - CSDNåšå®¢]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Hexoä½¿ç”¨æ”»ç•¥ï¼šæ·»åŠ åˆ†ç±»åŠæ ‡ç­¾]]></title>
    <url>%2F2018%2F10%2F25%2FHexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5%EF%BC%9A%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE%E7%9A%84%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Hexoä½¿ç”¨æ”»ç•¥ï¼šæ·»åŠ åˆ†ç±»åŠæ ‡ç­¾æœ¬æ•™ç¨‹é’ˆå¯¹çš„æ˜¯MacçŽ¯å¢ƒ Hexoåˆ›å»ºâ€åˆ†ç±»â€é€‰é¡¹ç”Ÿæˆâ€åˆ†ç±»â€é¡µå¹¶æ·»åŠ typeå±žæ€§ æ‰“å¼€å‘½ä»¤è¡Œï¼Œcdè¿›å…¥åšå®¢æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚æ‰§è¡Œå‘½ä»¤hexo new page categoriesï¼Œæ¥æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå¹¶å‘½åä¸ºcategoriesã€‚æˆåŠŸåŽä¼šæç¤ºï¼šINFO Created: ~/hexo/source/categories/index.md æ ¹æ®ä¸Šé¢çš„è·¯å¾„æ‰¾åˆ°index.mdè¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åŽé»˜è®¤å†…å®¹å¦‚ä¸‹ï¼š 1234---title: categoriesdate: 2018-10-25 20:11:37--- ç¼–è¾‘æ–°åˆ›å»ºçš„é¡µé¢ï¼Œæ·»åŠ type: &quot;categories&quot;åˆ°å†…å®¹ä¸­(æ³¨æ„ï¼Œè¿™äº›å±žæ€§å’Œå±žæ€§å€¼ä¹‹é—´å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼)ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»ï¼Œæ·»åŠ åŽæ˜¯è¿™æ ·çš„ï¼š 12345---title: categoriesdate: 2018-10-25 20:11:37type: &quot;categories&quot;--- ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚ ç»™æ–‡ç« æ·»åŠ â€categoriesâ€å±žæ€§ æ‰“å¼€éœ€è¦æ·»åŠ åˆ†ç±»çš„æ–‡ç« ï¼Œä¸ºå…¶æ·»åŠ categorieså±žæ€§ã€‚ä¸‹æ–¹çš„categories: Pythonè¡¨ç¤ºæ·»åŠ è¿™ç¯‡æ–‡ç« åˆ°â€œPythonâ€è¿™ä¸ªåˆ†ç±»ä¸­ã€‚ æ³¨æ„ï¼šHexoä¸­ä¸€ç¯‡æ–‡ç« åªèƒ½å±žäºŽä¸€ä¸ªåˆ†ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æžœåœ¨â€Pythonâ€ä¸‹æ–¹æ·»åŠ â€-xxxâ€ï¼ŒHexoä¸ä¼šäº§ç”Ÿä¸¤ä¸ªåˆ†ç±»ï¼Œè€Œæ˜¯æŠŠåˆ†ç±»åµŒå¥—ï¼Œå³è¯¥æ–‡ç« å±žäºŽâ€Pythonâ€œä¸‹çš„â€-xxxâ€œåˆ†ç±»ã€‚ 1234---title: Pythonä¸­*argså’Œ**kwargsçš„ç”¨æ³•æ€»ç»“categories: Python--- å›žåˆ°hexoæ–‡ä»¶å¤¹ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œhexo gï¼Œhexo serverå’Œhexo deployå‘½ä»¤(é‡æ–°éƒ¨ç½²)ã€‚ åœ¨Hexoèœå•ä¸Šæ·»åŠ åˆ†ç±»é€‰é¡¹ cdè¿›/hexo/themes/hexo-theme-next-5.1.4æ–‡ä»¶å¤¹å†…ï¼Œç¼–è¾‘è¯¥ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶(æŠŠé“¾æŽ¥åŠ ä¸Š)ï¼Œå°†æºä»£ç : 12345678910111213menu: home: / || home #about: /about/ || user #tags: /tags/ || tags #categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat# Enable/Disable menu icons.menu_icons: enable: true æ”¹ä¸º: 12345678910111213menu: home: / || home #about: /about/ || user #tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat# Enable/Disable menu icons.menu_icons: enable: true å³å°†menuä¸­çš„categories:/categories || thçš„æ³¨é‡ŠåŽ»æŽ‰ï¼Œç„¶åŽä¿å­˜å¹¶é€€å‡ºã€‚ å›žåˆ°hexoæ–‡ä»¶å¤¹ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œhexo gï¼Œhexo serverå’Œhexo deployå‘½ä»¤ï¼Œå³å¯çœ‹åˆ°èœå•æ ä¸­æ–°å¢žäº†ä¸€ä¸ªCategoriesé€‰é¡¹ã€‚ è‡³æ­¤ï¼ŒæˆåŠŸç»™æ–‡ç« æ·»åŠ åˆ†ç±»ï¼Œç‚¹å‡»Indexä¸Šçš„Categorieså¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„åˆ†ç±»æƒ…å†µï¼Œå†ç‚¹å‡»è¯¥åˆ†ç±»å°±å¯ä»¥çœ‹åˆ°è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡ç« ã€‚å½“ç„¶ï¼Œå‰ææ˜¯æ·»åŠ äº†categories: xxxå­—æ®µã€‚ Hexoåˆ›å»ºâ€æ ‡ç­¾â€é€‰é¡¹ç”Ÿæˆâ€æ ‡ç­¾â€é¡µå¹¶æ·»åŠ typeå±žæ€§ æ‰“å¼€å‘½ä»¤è¡Œï¼Œcdè¿›å…¥åšå®¢æ‰€åœ¨æ–‡ä»¶å¤¹ã€‚æ‰§è¡Œå‘½ä»¤hexo new page tagsï¼Œæ¥æ–°å»ºä¸€ä¸ªé¡µé¢ï¼Œå¹¶å‘½åä¸ºtagsã€‚æˆåŠŸåŽä¼šæç¤ºï¼šINFO Created: ~/hexo/source/tags/index.md æ ¹æ®ä¸Šé¢çš„è·¯å¾„æ‰¾åˆ°index.mdè¿™ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€åŽé»˜è®¤å†…å®¹å¦‚ä¸‹ï¼š 1234---title: tagsdate: 2018-10-25 21:11:00--- ç¼–è¾‘æ–°åˆ›å»ºçš„é¡µé¢ï¼Œæ·»åŠ type: &quot;tags&quot;åˆ°å†…å®¹ä¸­ï¼Œä¸»é¢˜å°†è‡ªåŠ¨ä¸ºè¿™ä¸ªé¡µé¢æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»ï¼Œæ·»åŠ åŽæ˜¯è¿™æ ·çš„ï¼š 12345---title: tagsdate: 2018-10-25 21:11:00type: &quot;tags&quot;--- ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚ ç»™æ–‡ç« æ·»åŠ â€tagsâ€å±žæ€§ æ‰“å¼€éœ€è¦æ·»åŠ æ ‡ç­¾çš„æ–‡ç« ï¼Œä¸ºå…¶æ·»åŠ tagså±žæ€§ã€‚ä¸‹æ–¹çš„tags: Djangoè¡¨ç¤ºæ·»åŠ è¿™ç¯‡æ–‡ç« åˆ°â€œDjangoâ€è¿™ä¸ªæ ‡ç­¾ä¸­ã€‚ 1234---title: Pythonä¸­*argså’Œ**kwargsçš„ç”¨æ³•æ€»ç»“tags: Django--- å›žåˆ°hexoæ–‡ä»¶å¤¹ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œhexo gï¼Œ hexo serverå’Œhexo deployå‘½ä»¤(é‡æ–°éƒ¨ç½²)ã€‚ åœ¨Hexoèœå•ä¸Šæ·»åŠ æ ‡ç­¾é€‰é¡¹ cdè¿›/hexo/themes/hexo-theme-next-5.1.4æ–‡ä»¶å¤¹å†…ï¼Œç¼–è¾‘è¯¥ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶(æŠŠé“¾æŽ¥åŠ ä¸Š)ï¼Œå°†æºä»£ç : 12345678910111213menu: home: / || home #about: /about/ || user #tags: /tags/ || tags #categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat# Enable/Disable menu icons.menu_icons: enable: true æ”¹ä¸º: 12345678910111213menu: home: / || home #about: /about/ || user tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat# Enable/Disable menu icons.menu_icons: enable: true å³å°†menuä¸­çš„tags: /tags/ || tagsçš„æ³¨é‡ŠåŽ»æŽ‰ï¼Œç„¶åŽä¿å­˜å¹¶é€€å‡ºã€‚ å›žåˆ°hexoæ–‡ä»¶å¤¹ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œhexo gï¼Œhexo serverå’Œhexo deployå‘½ä»¤ï¼Œå³å¯çœ‹åˆ°èœå•æ ä¸­æ–°å¢žäº†ä¸€ä¸ªtagsé€‰é¡¹ã€‚ å¼•ç”¨æ–‡ç« ï¼š 1.Hexoä½¿ç”¨æ”»ç•¥-æ·»åŠ åˆ†ç±»åŠæ ‡ç­¾ | linlif-blog 2.hexoæ€Žä¹ˆåœ¨èœå•ä¸Šæ·»åŠ é¡µé¢å’Œåˆ†ç±»å‘¢ï¼Ÿ - SegmentFault æ€å¦ 3.hexo next ä¸ºæ–‡ç« æ·»åŠ åˆ†ç±» | å­¦è€ŒåŽçŸ¥ä¸è¶³]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Pythonä¸­*argså’Œ**kwargsçš„ç”¨æ³•æ€»ç»“]]></title>
    <url>%2F2018%2F10%2F25%2FPython%E4%B8%AD*args%E5%92%8C**kwargs%E7%9A%84%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%E7%9A%84%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Pythonä¸­*argså’Œ**kwargsçš„ç”¨æ³•æ€»ç»“ä¸€ã€åŸºæœ¬æ¦‚å¿µPythonæ”¯æŒå¯å˜å‚æ•°ï¼Œæœ€ç®€å•çš„æ–¹æ³•èŽ«è¿‡äºŽä½¿ç”¨é»˜è®¤å‚æ•°ã€‚ 123456789101112131415def test_defargs(one, two=2): # å‚æ•°oneæ²¡æœ‰é»˜è®¤å€¼ï¼Œtwoçš„é»˜è®¤å€¼ä¸º2 print('Required argument:', one) print('Optional argument:', two) test_defargs(1)'''Required argument: 1Optional argument: 2'''test_defargs(1, 3)'''Required argument: 1Optional argument: 3''' å¦ä¸€ç§è¾¾åˆ°å¯å˜å‚æ•°(Variable Argument)çš„æ–¹æ³•ï¼š ä½¿ç”¨*argså’Œ**kwargsè¯­æ³•ã€‚ *argsæ˜¯å¯å˜çš„ä½ç½®å‚æ•°(postional arguments)åˆ—è¡¨ï¼› **kwargsæ˜¯å¯å˜çš„å…³é”®è¯å‚æ•°(keyword arguments)åˆ—è¡¨ï¼› å¹¶ä¸”è§„å®šä½ç½®å‚æ•°å¿…é¡»ä½äºŽå…³é”®è¯å‚æ•°ä¹‹å‰ï¼Œå³*argså¿…é¡»ä½äºŽ**kwargsä¹‹å‰ã€‚ äºŒã€ä½ç½®å‚æ•°ä»¥ä¸‹æ˜¯ç”¨ä½ç½®å‚æ•°æ­£ç¡®è°ƒç”¨å‡½æ•°çš„å®žä¾‹ï¼š 12345678910def print_hello(name, sex): sex_dict = &#123;1: 'å…ˆç”Ÿ', 2: 'å¥³å£«'&#125; print('Hello %s %s, welcome to Python World!' % (name, sex_dict.get(sex, 'å…ˆç”Ÿ'))) # if no such a key, print 'å…ˆç”Ÿ' print_hello('Chen', 2) # ä½ç½®å‚æ•°è¦æ±‚å…ˆåŽé¡ºåºï¼Œå¯¹åº”nameå’Œsexprint_hello('Chen', 3) # ä¸¤ä¸ªå‚æ•°çš„é¡ºåºå¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œä¸”å°‘ä¸€ä¸ªå‚æ•°éƒ½ä¸å¯ä»¥'''Hello Chen å¥³å£«, welcome to Python World!Hello Chen å…ˆç”Ÿ, welcome to Python World!''' ä¸‰ã€å…³é”®å­—å‚æ•°ç”¨äºŽå‡½æ•°è°ƒç”¨ï¼Œé€šè¿‡â€œé”®-å€¼â€å½¢å¼åŠ ä»¥æŒ‡å®šã€‚ ä½¿ç”¨å…³é”®å­—å‚æ•°å¯ä»¥è®©å‡½æ•°æ›´åŠ æ¸…æ™°ï¼Œå®¹æ˜“ä½¿ç”¨ï¼ŒåŒæ—¶ä¹Ÿæ¸…é™¤äº†å‚æ•°çš„é¡ºåºéœ€æ±‚ã€‚ ä»¥ä¸‹æ˜¯ç”¨å…³é”®å­—å‚æ•°æ­£ç¡®è°ƒç”¨å‡½æ•°çš„å®žä¾‹ï¼š 123print_hello('Chen', sex=1) # æœ‰ä½ç½®å‚æ•°æ—¶ï¼Œä½ç½®å‚æ•°å¿…é¡»åœ¨å…³é”®å­—å‚æ•°çš„å‰é¢# print_hello(1, name='Chen') # Python 3.xä¸­è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„print_hello(name='Chen', sex=1) # å…³é”®å­—å‚æ•°ä¹‹é—´ä¸å­˜åœ¨å…ˆåŽé¡ºåºçš„,ç­‰ä»·äºŽprint_hello(sex=1, name='Chen') ä»¥ä¸‹æ˜¯é”™è¯¯çš„è°ƒç”¨æ–¹å¼ï¼š 12# print_hello(name='Chen', 1) # æœ‰ä½ç½®å‚æ•°æ—¶ï¼Œä½ç½®å‚æ•°å¿…é¡»åœ¨å…³é”®å­—å‚æ•°å‰é¢# print_hello(sex=1, 'Chen') å››ã€å¯å˜å‚æ•°é¡¾åæ€ä¹‰ï¼Œå¯å˜å‚æ•°å°±æ˜¯ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ˜¯å¯å˜çš„ï¼Œå¯ä»¥æ˜¯ä»»æ„ä¸ªã€‚*argså’Œ**kwargsä¸¤è€…éƒ½æ˜¯Pythonä¸­çš„å¯å˜å‚æ•°ã€‚ 1.å¯å˜ä½ç½®å‚æ•°*argsPythonä¸­è§„å®šå‚æ•°å‰å¸¦*çš„ï¼Œç§°ä¸ºå¯å˜ä½ç½®å‚æ•°ï¼Œåªæ˜¯æˆ‘ä»¬é€šå¸¸ç§°è¿™ä¸ªå¯å˜ä½ç½®å‚æ•°ä¸º*argsè€Œå·²ï¼Œå«å…¶ä»–çš„ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ ä»¥æ•°å­¦é¢˜ä¸ºä¾‹ï¼Œç»™å®šä¸€ç»„æ•°å­—aï¼Œbï¼Œcâ€¦â€¦ï¼Œè¯·è®¡ç®—a^2 + b^2 + c^2 + â€¦â€¦ã€‚ è¦å®šä¹‰è¿™ä¸ªå‡½æ•°ï¼Œå¿…é¡»ç¡®å®šè¾“å…¥çš„å‚æ•°ã€‚ç”±äºŽå‚æ•°ä¸ªæ•°ä¸ç¡®å®šï¼Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆæƒ³åˆ°æŠŠaï¼Œbï¼Œcâ€¦â€¦ä½œä¸ºä¸€ä¸ªlistæˆ–è€…tupleä¼ è¿›æ¥ï¼Œè¿™æ ·å‡½æ•°å°±å¯ä»¥å®šä¹‰ä¸ºï¼š 12345def calc(numbers): sum = 0 for n in numbers: sum = sum + n * n return sum ä½†æ˜¯è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦å…ˆç»„è£…å‡ºä¸€ä¸ªlistæˆ–tupleï¼š 1234&gt;&gt;&gt; calc([1, 2, 3])14&gt;&gt;&gt; calc([1, 3, 5, 7])84 æ‰€ä»¥ï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§æˆ‘ä»¬æŠŠå‡½æ•°çš„å‚æ•°æ”¹ä¸ºå¯å˜ä½ç½®å‡½æ•°ï¼š 12345def calc(*numbers) # å¯å˜ä½ç½®å‚æ•° sum = 0 for n in numbers: sum = sum + n * n return sum å®šä¹‰å¯å˜ä½ç½®å‚æ•°å’Œå®šä¹‰ä¸€ä¸ªlistæˆ–tupleå‚æ•°ç›¸æ¯”ï¼Œä»…ä»…åœ¨å‚æ•°å‰é¢åŠ äº†ä¸€ä¸ª*å·ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œå‚æ•°numbersæŽ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªtupleï¼Œå› æ­¤å‡½æ•°ä»£ç å®Œå…¨ä¸å˜ã€‚ä½†æ˜¯ï¼Œè°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬0ä¸ªå‚æ•°ï¼š 1234&gt;&gt;&gt;calc(1,2)5&gt;&gt;&gt;calc()0 å¦‚æžœå·²ç»æœ‰ä¸€ä¸ªlistæˆ–tupleï¼Œè¦è°ƒç”¨ä¸€ä¸ªå¯å˜ä½ç½®å‚æ•°æ€Žä¹ˆåŠžï¼Ÿå¯ä»¥è¿™ä¹ˆåšï¼š 123&gt;&gt;&gt;nums = [1, 2, 3]&gt;&gt;&gt;calc(nums[0], nums[1], nums[2])14 è¿™ç§åšæ³•å½“ç„¶æ˜¯å¯è¡Œçš„ï¼Œé—®é¢˜æ˜¯å¤ªç¹çäº†ï¼Œæ‰€ä»¥Pythonå…è®¸åœ¨listæˆ–tupleå‰é¢åŠ ä¸€ä¸ª*ï¼ŒæŠŠlistæˆ–tupleçš„å…ƒç´ å˜æˆå¯å˜ä½ç½®å‚æ•°ä¼ è¿›åŽ»ï¼š 123&gt;&gt;&gt;nums = [1, 2, 3]&gt;&gt;&gt;calc(*nums)14 æ€»è€Œè¨€ä¹‹ï¼Œ*argsç”¨æ¥è¡¨ç¤ºå‡½æ•°æŽ¥æ”¶å¯å˜é•¿åº¦çš„éžå…³é”®å­—å‚æ•°åˆ—è¡¨ä½œä¸ºå‡½æ•°çš„è¾“å…¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è¿™ä¸ªä¾‹å­è¿›ä¸€æ­¥ç†è§£*args: 123456def test_args(normal_arg, *args): print('first normal arg:' + normal_arg) for arg in args: print('another arg through *args:' + arg) test_args("normal", "python", "java", "C#") ä¸Šé¢ä»£ç çš„æ‰§è¡Œç»“æžœå¦‚ä¸‹ï¼š 1234first normal arg: normalanother arg through *args : pythonanother arg through *args : javaanother arg through *args :C# 2.å¯å˜å…³é”®å­—å‚æ•°**kwargsåŒç†ï¼ŒPythonä¸­è§„å®šå‚æ•°å‰å¸¦ çš„ï¼Œç§°ä¸ºå¯å˜å…³é”®å­—å‚æ•°ï¼Œé€šå¸¸ç”¨kwargsè¡¨ç¤ºã€‚ **kwargsè¡¨ç¤ºå‡½æ•°æŽ¥æ”¶å¯å˜é•¿åº¦çš„å…³é”®å­—å‚æ•°å­—å…¸ä½œä¸ºå‡½æ•°çš„è¾“å…¥ã€‚å½“æˆ‘ä»¬éœ€è¦å‡½æ•°æŽ¥æ”¶å¸¦å…³é”®å­—çš„å‚æ•°ä½œä¸ºè¾“å…¥çš„æ—¶å€™ï¼Œåº”å½“ä½¿ç”¨**kwargsã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹çš„ä¾‹å­è¿›ä¸€æ­¥ç†è§£**kwargs: 123456789def test_kwargs(**kwargs): if kwargs is not None: for key, value in kwargs.iteritems(): print("&#123;&#125; = &#123;&#125;".format(key,value)) # Or you can visit kwargs like a dict() object # for key in kwargs: # print("&#123;&#125; = &#123;&#125;".format(key, kwargs[key])) test_kwargs(name="python", value="5") ä»¥ä¸Šä»£ç çš„æ‰§è¡Œæ•ˆæžœå¦‚ä¸‹ï¼š 12name = pythonvalue = 5 ä»¥ä¸Šä¾‹å­åªæ˜¯*argså’Œ**kwargsåŸºæœ¬ä½¿ç”¨çš„ä¾‹å­ã€‚ä¸‹é¢å†ç»™å‡ºä¸€ä¸ªç”¨*argså’Œ**kwargsæ¥å®šä¹‰èƒ½å¤ŸæŽ¥å—åˆ—è¡¨è¾“å…¥å’Œå­—å…¸è¾“å…¥çš„å‡½æ•°çš„ä¾‹å­ã€‚ 3.ä½¿ç”¨*argså’Œ**kwargsæ¥è°ƒç”¨å‡½æ•°æ¯”å¦‚æˆ‘ä»¬æœ‰å¦‚ä¸‹æŽ¥å—æ™®é€šè¾“å…¥å‚æ•°çš„å‡½æ•°ï¼š 123456def normal_func(arg1, arg2, arg3): print("arg1: " + arg1) print("arg2: " + arg2) print("arg3: " + arg3)normal_func("python", 1, 3) ä½¿ç”¨*argså’Œ**kwargsæ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„ä»£ç å¦‚ä¸‹ï¼š 1234567# ä½¿ç”¨*argsargs_list = ("python", 1, 3)normal_func(*args_list)# ä½¿ç”¨**kwargskwargs_dict = &#123;"arg3": 3, "arg1": "python", "arg2": 1&#125;normal_func(**kwargs_dict) ä»¥ä¸Šä¸‰æ®µä»£ç çš„è¾“å‡ºå‡ä¸ºï¼š 123arg1: pythonarg2: 1arg3: 3 å¼•ç”¨æ–‡ç« ï¼š 1.Pythonä¸­çš„ *args å’Œ **kwargs - ç®€ä¹¦ 2.å‡½æ•°çš„å‚æ•° - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ 3.pythonå‚æ•°ä¼ é€’çš„*argså’Œ**kwargs - ç®€ä¹¦]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[é€šè¿‡Hexoå°†æ–‡ç« ä¸Šä¼ åˆ°git.ioçš„æ–¹æ³•]]></title>
    <url>%2F2018%2F10%2F21%2F%E9%80%9A%E8%BF%87Hexo%E5%B0%86%E6%96%87%E7%AB%A0%E4%B8%8A%E4%BC%A0%E5%88%B0git.io%E7%9A%84%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[é€šè¿‡Hexoå°†æ–‡ç« ä¸Šä¼ åˆ°git.ioçš„æ–¹æ³• ç¼–è¾‘æ–‡ç« ï¼Œç”Ÿæˆmarkdownæ–‡ä»¶ï¼Œå¹¶å°†æ–‡ç« æ”¾åˆ°/hexo/source/_postsç›®å½•ä¸‹ï¼Œä¸€ä¸ªmdæ–‡ä»¶å¯¹åº”ä¸€ç¯‡åšå®¢æ–‡ç« ã€‚ ä¿®æ”¹æ–‡ç« å¤´éƒ¨ï¼š 123456---title: #åšå®¢æ ‡é¢˜date: #åšå®¢å‘å¸ƒæ—¶é—´tags: #åšå®¢åˆ†ç±»æ ‡ç­¾categories: #åšå®¢ç›®å½•--- åœ¨å‘½ä»¤è¡Œä¸­cdåˆ°_postsç›®å½•ä¸‹å¹¶æ‰§è¡Œhexo generateå‘½ä»¤(ç”Ÿæˆé™æ€é¡µé¢)ã€‚ å†æ‰§è¡Œhexo serverå‘½ä»¤(æœ¬åœ°ä¸Šä¼ æ–‡ç« )ï¼Œä¸Šä¼ åŽå¯ä»¥åˆ°http://localhost:4000/ é¢„è§ˆåšå®¢æ•ˆæžœã€‚ æœ€åŽæ‰§è¡Œhexo deployå‘½ä»¤ï¼Œä¸Šä¼ æ–‡ç« åˆ°github.ioä¸Šå°±å®Œæˆäº†ã€‚ å…¶ä»–Hexoå‘½ä»¤ï¼š hexo cleanï¼ˆæ¸…ç©ºèµ„æºæ–‡ä»¶ï¼Œå¯é€‰æ“ä½œï¼‰ hexo g ï¼ˆé‡æ–°ç”Ÿæˆèµ„æºæ–‡ä»¶ï¼‰ å¼•ç”¨æ–‡ç« : 1.Hexo å‘å¸ƒæ–‡ç« åˆ°git.ioæ­¥éª¤ - ç¨‹åºç”·çš„ä¸“æ  - CSDNåšå®¢ 2.hexoå‘å¸ƒæ–‡ç« åˆ°ä¸ªäººåšå®¢ä¸Š - wl67920126çš„åšå®¢ - CSDNåšå®¢]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Djangoä¸­pathå’Œurlçš„åŒºåˆ«]]></title>
    <url>%2F2018%2F10%2F21%2FDjango%E4%B8%ADpath%E5%92%8Curl%E7%9A%84%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[Djangoä¸­pathå’Œurlçš„åŒºåˆ«djangoä¸­urlå’Œpathéƒ½æ˜¯é…ç½®è·¯å¾„ï¼Œæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ from django.urls import path from django.conf.urls import url pathå’Œurlæ˜¯ä¸¤ä¸ªä¸åŒçš„æ¨¡å—ï¼Œæ•ˆæžœéƒ½æ˜¯å“åº”è¿”å›žç•Œé¢ï¼Œpathè°ƒç”¨çš„æ˜¯pythonç¬¬ä¸‰æ–¹æ¨¡å—æˆ–æ¡†æž¶ï¼Œè€Œurlåˆ™æ˜¯è‡ªå®šä¹‰çš„æ¨¡å—ã€‚ ä¾‹å¦‚ï¼š 1234url(r'^login', views.login)def login(request): return render(request, 'login.html') å¼•ç”¨è‡ªï¼šDjangoä¸­pathå’Œurlçš„ç”¨æ³•æ€»ç»“ å½“ç„¶ï¼Œä¸»è¦é—®é¢˜åœ¨äºŽç‰ˆæœ¬ï¼Œ1.xç‰ˆæœ¬ç”¨urlï¼Œ2.xç‰ˆæœ¬ç”¨pathã€‚]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Django</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»‹ç»]]></title>
    <url>%2F2018%2F04%2F25%2F%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[Rilzobçš„ä¸ªäººblogéšä¾¿å†™ï¼Œéšä¾¿çœ‹ é‚®ç®±ï¼š watermirrosir@163.com]]></content>
  </entry>
</search>
